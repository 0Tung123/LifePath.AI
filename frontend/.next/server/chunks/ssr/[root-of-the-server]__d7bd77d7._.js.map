{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 31, "column": 0}, "map": {"version":3,"sources":["file:///D:/my-fullstack-app/frontend/src/components/Header.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState } from \"react\";\nimport Link from \"next/link\";\nimport { useRouter } from \"next/navigation\";\nimport { useAuth } from \"@/contexts/AuthContext\";\n\nexport default function Header() {\n  const { user, isAuthenticated, logout } = useAuth();\n  const router = useRouter();\n  const [isMenuOpen, setIsMenuOpen] = useState<boolean>(false);\n\n  const toggleMenu = () => {\n    setIsMenuOpen(!isMenuOpen);\n  };\n\n  return (\n    <header className=\"bg-gray-800 text-white shadow-md\">\n      <div className=\"container mx-auto px-4\">\n        <div className=\"flex justify-between items-center py-4\">\n          <div>\n            <Link href=\"/dashboard\" className=\"text-xl font-bold\">\n              RPG Adventure\n            </Link>\n          </div>\n\n          {isAuthenticated && (\n            <div className=\"relative\">\n              <button\n                onClick={toggleMenu}\n                className=\"flex items-center space-x-2 focus:outline-none\"\n              >\n                <div className=\"w-8 h-8 rounded-full bg-gray-600 flex items-center justify-center\">\n                  {user?.profilePicture ? (\n                    <img\n                      src={user.profilePicture}\n                      alt={`${user.firstName || \"User\"}'s avatar`}\n                      className=\"w-8 h-8 rounded-full\"\n                    />\n                  ) : (\n                    <span className=\"text-sm font-medium\">\n                      {user?.firstName?.[0]?.toUpperCase() ||\n                        user?.email?.[0]?.toUpperCase() ||\n                        \"U\"}\n                    </span>\n                  )}\n                </div>\n                <span className=\"hidden md:inline\">\n                  {user?.firstName || user?.email?.split(\"@\")[0] || \"User\"}\n                </span>\n              </button>\n\n              {isMenuOpen && (\n                <div className=\"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-10\">\n                  <Link\n                    href=\"/dashboard\"\n                    className=\"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\"\n                    onClick={() => setIsMenuOpen(false)}\n                  >\n                    Dashboard\n                  </Link>\n                  <Link\n                    href=\"/profile\"\n                    className=\"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\"\n                    onClick={() => setIsMenuOpen(false)}\n                  >\n                    Profile\n                  </Link>\n                  <button\n                    onClick={() => {\n                      logout();\n                      setIsMenuOpen(false);\n                    }}\n                    className=\"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\"\n                  >\n                    Sign out\n                  </button>\n                </div>\n              )}\n            </div>\n          )}\n        </div>\n      </div>\n    </header>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAOe,SAAS;IACtB,MAAM,EAAE,IAAI,EAAE,eAAe,EAAE,MAAM,EAAE,GAAG,CAAA,GAAA,+HAAA,CAAA,UAAO,AAAD;IAChD,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAW;IAEtD,MAAM,aAAa;QACjB,cAAc,CAAC;IACjB;IAEA,qBACE,8OAAC;QAAO,WAAU;kBAChB,cAAA,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;kCACC,cAAA,8OAAC,4JAAA,CAAA,UAAI;4BAAC,MAAK;4BAAa,WAAU;sCAAoB;;;;;;;;;;;oBAKvD,iCACC,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCACC,SAAS;gCACT,WAAU;;kDAEV,8OAAC;wCAAI,WAAU;kDACZ,MAAM,+BACL,8OAAC;4CACC,KAAK,KAAK,cAAc;4CACxB,KAAK,GAAG,KAAK,SAAS,IAAI,OAAO,SAAS,CAAC;4CAC3C,WAAU;;;;;iEAGZ,8OAAC;4CAAK,WAAU;sDACb,MAAM,WAAW,CAAC,EAAE,EAAE,iBACrB,MAAM,OAAO,CAAC,EAAE,EAAE,iBAClB;;;;;;;;;;;kDAIR,8OAAC;wCAAK,WAAU;kDACb,MAAM,aAAa,MAAM,OAAO,MAAM,IAAI,CAAC,EAAE,IAAI;;;;;;;;;;;;4BAIrD,4BACC,8OAAC;gCAAI,WAAU;;kDACb,8OAAC,4JAAA,CAAA,UAAI;wCACH,MAAK;wCACL,WAAU;wCACV,SAAS,IAAM,cAAc;kDAC9B;;;;;;kDAGD,8OAAC,4JAAA,CAAA,UAAI;wCACH,MAAK;wCACL,WAAU;wCACV,SAAS,IAAM,cAAc;kDAC9B;;;;;;kDAGD,8OAAC;wCACC,SAAS;4CACP;4CACA,cAAc;wCAChB;wCACA,WAAU;kDACX;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAWnB","debugId":null}},
    {"offset": {"line": 188, "column": 0}, "map": {"version":3,"sources":["file:///D:/my-fullstack-app/frontend/src/app/profile/page.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useEffect, useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { useAuth } from \"@/contexts/AuthContext\";\nimport authService from \"@/services/auth.service\";\nimport Header from \"@/components/Header\";\n\nexport default function ProfilePage() {\n  const { user, isAuthenticated, isLoading, refreshProfile } = useAuth();\n  const router = useRouter();\n\n  const [firstName, setFirstName] = useState<string>(\"\");\n  const [lastName, setLastName] = useState<string>(\"\");\n  const [isEditing, setIsEditing] = useState<boolean>(false);\n  const [message, setMessage] = useState<{\n    text: string;\n    type: \"success\" | \"error\";\n  } | null>(null);\n\n  // Redirect if not authenticated\n  useEffect(() => {\n    if (!isLoading && !isAuthenticated) {\n      router.push(\"/login\");\n    }\n  }, [isLoading, isAuthenticated, router]);\n\n  // Set form values when user data is loaded\n  useEffect(() => {\n    if (user) {\n      setFirstName(user.firstName || \"\");\n      setLastName(user.lastName || \"\");\n    }\n  }, [user]);\n\n  const handleEdit = () => {\n    setIsEditing(true);\n  };\n\n  const handleCancel = () => {\n    // Reset to original values\n    if (user) {\n      setFirstName(user.firstName || \"\");\n      setLastName(user.lastName || \"\");\n    }\n    setIsEditing(false);\n    setMessage(null);\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setMessage(null);\n\n    try {\n      // Call the updateProfile method we added to auth service\n      await authService.updateProfile({\n        firstName,\n        lastName,\n      });\n\n      // Refresh the user context with our new method\n      await refreshProfile();\n\n      setMessage({\n        text: \"Profile updated successfully!\",\n        type: \"success\",\n      });\n      setIsEditing(false);\n    } catch (error) {\n      setMessage({\n        text:\n          \"Failed to update profile. Please try again.\",\n        type: \"error\",\n      });\n    }\n  };\n\n  const handleLogout = () => {\n    authService.logout();\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen\">\n        <div className=\"text-xl\">Loading profile...</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-100\">\n      <Header />\n      <div className=\"container mx-auto px-4 py-12\">\n        <div className=\"max-w-3xl mx-auto\">\n          <h1 className=\"text-3xl font-bold text-gray-900 mb-8\">\n            Your Profile\n          </h1>\n\n          {message && (\n            <div\n              className={`mb-6 p-4 rounded-md ${\n                message.type === \"success\"\n                  ? \"bg-green-100 text-green-700\"\n                  : \"bg-red-100 text-red-700\"\n              }`}\n            >\n              {message.text}\n            </div>\n          )}\n\n          <div className=\"bg-white shadow-md rounded-lg overflow-hidden\">\n            <div className=\"p-6\">\n              {isEditing ? (\n                <form onSubmit={handleSubmit}>\n                  <div className=\"grid grid-cols-1 gap-6 md:grid-cols-2\">\n                    <div>\n                      <label\n                        htmlFor=\"firstName\"\n                        className=\"block text-sm font-medium text-gray-700\"\n                      >\n                        First Name\n                      </label>\n                      <input\n                        type=\"text\"\n                        id=\"firstName\"\n                        value={firstName}\n                        onChange={(e) => setFirstName(e.target.value)}\n                        className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\n                      />\n                    </div>\n                    <div>\n                      <label\n                        htmlFor=\"lastName\"\n                        className=\"block text-sm font-medium text-gray-700\"\n                      >\n                        Last Name\n                      </label>\n                      <input\n                        type=\"text\"\n                        id=\"lastName\"\n                        value={lastName}\n                        onChange={(e) => setLastName(e.target.value)}\n                        className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\n                      />\n                    </div>\n                  </div>\n\n                  <div className=\"flex items-center justify-end space-x-4 mt-6\">\n                    <button\n                      type=\"button\"\n                      onClick={handleCancel}\n                      className=\"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                    >\n                      Cancel\n                    </button>\n                    <button\n                      type=\"submit\"\n                      className=\"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                    >\n                      Save Changes\n                    </button>\n                  </div>\n                </form>\n              ) : (\n                <div>\n                  <div className=\"grid grid-cols-1 gap-6 md:grid-cols-2\">\n                    <div>\n                      <h3 className=\"text-sm font-medium text-gray-500\">\n                        Email\n                      </h3>\n                      <p className=\"mt-1 text-sm text-gray-900\">\n                        {user?.email}\n                      </p>\n                    </div>\n                    <div>\n                      <h3 className=\"text-sm font-medium text-gray-500\">\n                        Account Status\n                      </h3>\n                      <p className=\"mt-1 text-sm text-gray-900\">\n                        {user?.isActive ? (\n                          <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\">\n                            Active\n                          </span>\n                        ) : (\n                          <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800\">\n                            Pending Verification\n                          </span>\n                        )}\n                      </p>\n                    </div>\n                    <div>\n                      <h3 className=\"text-sm font-medium text-gray-500\">\n                        First Name\n                      </h3>\n                      <p className=\"mt-1 text-sm text-gray-900\">\n                        {user?.firstName || \"-\"}\n                      </p>\n                    </div>\n                    <div>\n                      <h3 className=\"text-sm font-medium text-gray-500\">\n                        Last Name\n                      </h3>\n                      <p className=\"mt-1 text-sm text-gray-900\">\n                        {user?.lastName || \"-\"}\n                      </p>\n                    </div>\n                    <div>\n                      <h3 className=\"text-sm font-medium text-gray-500\">\n                        Joined\n                      </h3>\n                      <p className=\"mt-1 text-sm text-gray-900\">\n                        {user?.createdAt\n                          ? new Date(user.createdAt).toLocaleDateString()\n                          : \"-\"}\n                      </p>\n                    </div>\n                  </div>\n\n                  <div className=\"flex items-center justify-end space-x-4 mt-6\">\n                    <button\n                      type=\"button\"\n                      onClick={handleEdit}\n                      className=\"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                    >\n                      Edit Profile\n                    </button>\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n\n          <div className=\"mt-6 flex justify-between\">\n            <button\n              onClick={() => router.push(\"/dashboard\")}\n              className=\"text-sm text-blue-600 hover:text-blue-500\"\n            >\n              Back to Dashboard\n            </button>\n            <button\n              onClick={handleLogout}\n              className=\"text-sm text-red-600 hover:text-red-500\"\n            >\n              Sign Out\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}
{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 31, "column": 0}, "map": {"version":3,"sources":["file:///D:/my-fullstack-app/frontend/src/components/Header.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState } from \"react\";\nimport Link from \"next/link\";\nimport { useRouter } from \"next/navigation\";\nimport { useAuth } from \"@/contexts/AuthContext\";\n\nexport default function Header() {\n  const { user, isAuthenticated, logout } = useAuth();\n  const router = useRouter();\n  const [isMenuOpen, setIsMenuOpen] = useState<boolean>(false);\n\n  const toggleMenu = () => {\n    setIsMenuOpen(!isMenuOpen);\n  };\n\n  return (\n    <header className=\"bg-gray-800 text-white shadow-md\">\n      <div className=\"container mx-auto px-4\">\n        <div className=\"flex justify-between items-center py-4\">\n          <div>\n            <Link href=\"/dashboard\" className=\"text-xl font-bold\">\n              RPG Adventure\n            </Link>\n          </div>\n\n          {isAuthenticated && (\n            <div className=\"relative\">\n              <button\n                onClick={toggleMenu}\n                className=\"flex items-center space-x-2 focus:outline-none\"\n              >\n                <div className=\"w-8 h-8 rounded-full bg-gray-600 flex items-center justify-center\">\n                  {user?.profilePicture ? (\n                    <img\n                      src={user.profilePicture}\n                      alt={`${user.firstName || \"User\"}'s avatar`}\n                      className=\"w-8 h-8 rounded-full\"\n                    />\n                  ) : (\n                    <span className=\"text-sm font-medium\">\n                      {user?.firstName?.[0]?.toUpperCase() ||\n                        user?.email?.[0]?.toUpperCase() ||\n                        \"U\"}\n                    </span>\n                  )}\n                </div>\n                <span className=\"hidden md:inline\">\n                  {user?.firstName || user?.email?.split(\"@\")[0] || \"User\"}\n                </span>\n              </button>\n\n              {isMenuOpen && (\n                <div className=\"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-10\">\n                  <Link\n                    href=\"/dashboard\"\n                    className=\"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\"\n                    onClick={() => setIsMenuOpen(false)}\n                  >\n                    Dashboard\n                  </Link>\n                  <Link\n                    href=\"/profile\"\n                    className=\"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\"\n                    onClick={() => setIsMenuOpen(false)}\n                  >\n                    Profile\n                  </Link>\n                  <button\n                    onClick={() => {\n                      logout();\n                      setIsMenuOpen(false);\n                    }}\n                    className=\"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\"\n                  >\n                    Sign out\n                  </button>\n                </div>\n              )}\n            </div>\n          )}\n        </div>\n      </div>\n    </header>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAOe,SAAS;IACtB,MAAM,EAAE,IAAI,EAAE,eAAe,EAAE,MAAM,EAAE,GAAG,CAAA,GAAA,+HAAA,CAAA,UAAO,AAAD;IAChD,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAW;IAEtD,MAAM,aAAa;QACjB,cAAc,CAAC;IACjB;IAEA,qBACE,8OAAC;QAAO,WAAU;kBAChB,cAAA,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;kCACC,cAAA,8OAAC,4JAAA,CAAA,UAAI;4BAAC,MAAK;4BAAa,WAAU;sCAAoB;;;;;;;;;;;oBAKvD,iCACC,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCACC,SAAS;gCACT,WAAU;;kDAEV,8OAAC;wCAAI,WAAU;kDACZ,MAAM,+BACL,8OAAC;4CACC,KAAK,KAAK,cAAc;4CACxB,KAAK,GAAG,KAAK,SAAS,IAAI,OAAO,SAAS,CAAC;4CAC3C,WAAU;;;;;iEAGZ,8OAAC;4CAAK,WAAU;sDACb,MAAM,WAAW,CAAC,EAAE,EAAE,iBACrB,MAAM,OAAO,CAAC,EAAE,EAAE,iBAClB;;;;;;;;;;;kDAIR,8OAAC;wCAAK,WAAU;kDACb,MAAM,aAAa,MAAM,OAAO,MAAM,IAAI,CAAC,EAAE,IAAI;;;;;;;;;;;;4BAIrD,4BACC,8OAAC;gCAAI,WAAU;;kDACb,8OAAC,4JAAA,CAAA,UAAI;wCACH,MAAK;wCACL,WAAU;wCACV,SAAS,IAAM,cAAc;kDAC9B;;;;;;kDAGD,8OAAC,4JAAA,CAAA,UAAI;wCACH,MAAK;wCACL,WAAU;wCACV,SAAS,IAAM,cAAc;kDAC9B;;;;;;kDAGD,8OAAC;wCACC,SAAS;4CACP;4CACA,cAAc;wCAChB;wCACA,WAAU;kDACX;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAWnB","debugId":null}},
    {"offset": {"line": 188, "column": 0}, "map": {"version":3,"sources":["file:///D:/my-fullstack-app/frontend/src/app/game/%5Bid%5D/page.tsx"],"sourcesContent":["'use client';\n\nimport React, { useEffect, useState } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { useAuth } from '@/contexts/AuthContext';\nimport { useGame } from '@/contexts/GameContext';\nimport { \n  InventoryItem, \n  Skill, \n  GameStats, \n  LoreFragment \n} from '@/services/game.service';\nimport Header from '@/components/Header';\n\nexport default function GamePage({ params }: { params: { id: string } }) {\n  const { isAuthenticated, isLoading: authLoading } = useAuth();\n  const { currentGame, makeChoice, isLoading: gameLoading } = useGame();\n  const router = useRouter();\n  const gameId = params.id;\n\n  const [activeTab, setActiveTab] = useState<'story' | 'stats' | 'inventory' | 'skills' | 'lore'>('story');\n\n  // Redirect if not authenticated\n  useEffect(() => {\n    if (!authLoading && !isAuthenticated) {\n      router.push('/login');\n    }\n  }, [authLoading, isAuthenticated, router]);\n\n  const handleMakeChoice = async (choiceNumber: number) => {\n    try {\n      await makeChoice(choiceNumber);\n      // Scroll to top after choice is made\n      window.scrollTo(0, 0);\n    } catch (error) {\n      console.error('Failed to make choice:', error);\n    }\n  };\n\n  if (authLoading || gameLoading || !currentGame) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen\">\n        <div className=\"text-xl font-semibold\">Loading adventure...</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-900 text-white\">\n      <Header />\n      <div className=\"container mx-auto px-4 py-8\">\n        <header className=\"mb-8\">\n          <h1 className=\"text-3xl font-bold text-amber-400\">\n            {currentGame.settings.characterName}'s Adventure\n          </h1>\n          <div className=\"text-gray-400 mt-2\">\n            {currentGame.settings.theme} â€¢ {currentGame.settings.setting}\n          </div>\n        </header>\n\n        {/* Navigation Tabs */}\n        <div className=\"mb-6 border-b border-gray-700\">\n          <div className=\"flex space-x-4\">\n            <button\n              onClick={() => setActiveTab('story')}\n              className={`py-2 px-4 font-medium ${\n                activeTab === 'story'\n                  ? 'text-amber-400 border-b-2 border-amber-400'\n                  : 'text-gray-400 hover:text-white'\n              }`}\n            >\n              Story\n            </button>\n            <button\n              onClick={() => setActiveTab('stats')}\n              className={`py-2 px-4 font-medium ${\n                activeTab === 'stats'\n                  ? 'text-amber-400 border-b-2 border-amber-400'\n                  : 'text-gray-400 hover:text-white'\n              }`}\n            >\n              Stats\n            </button>\n            <button\n              onClick={() => setActiveTab('inventory')}\n              className={`py-2 px-4 font-medium ${\n                activeTab === 'inventory'\n                  ? 'text-amber-400 border-b-2 border-amber-400'\n                  : 'text-gray-400 hover:text-white'\n              }`}\n            >\n              Inventory\n            </button>\n            <button\n              onClick={() => setActiveTab('skills')}\n              className={`py-2 px-4 font-medium ${\n                activeTab === 'skills'\n                  ? 'text-amber-400 border-b-2 border-amber-400'\n                  : 'text-gray-400 hover:text-white'\n              }`}\n            >\n              Skills\n            </button>\n            <button\n              onClick={() => setActiveTab('lore')}\n              className={`py-2 px-4 font-medium ${\n                activeTab === 'lore'\n                  ? 'text-amber-400 border-b-2 border-amber-400'\n                  : 'text-gray-400 hover:text-white'\n              }`}\n            >\n              Lore\n            </button>\n          </div>\n        </div>\n\n        {/* Content Area */}\n        <div className=\"bg-gray-800 rounded-lg p-6\">\n          {activeTab === 'story' && (\n            <>\n              <div className=\"prose prose-invert max-w-none mb-8\">\n                <div className=\"whitespace-pre-line\">{currentGame.currentPrompt}</div>\n              </div>\n\n              {currentGame.currentChoices && currentGame.currentChoices.length > 0 && (\n                <div className=\"mt-8\">\n                  <h3 className=\"text-xl font-semibold mb-4 text-amber-400\">What will you do?</h3>\n                  <div className=\"space-y-3\">\n                    {currentGame.currentChoices.map((choice) => (\n                      <button\n                        key={choice.number}\n                        onClick={() => handleMakeChoice(choice.number)}\n                        disabled={gameLoading}\n                        className=\"w-full text-left p-4 bg-gray-700 hover:bg-gray-600 rounded-lg transition duration-150\"\n                      >\n                        <span className=\"font-bold text-amber-400\">{choice.number}.</span>{' '}\n                        {choice.text}\n                      </button>\n                    ))}\n                  </div>\n                </div>\n              )}\n            </>\n          )}\n\n          {activeTab === 'stats' && (\n            <div>\n              <h2 className=\"text-2xl font-semibold mb-4 text-amber-400\">Character Stats</h2>\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                {Object.entries(currentGame.characterStats).map(([key, value]) => (\n                  <div key={key} className=\"bg-gray-700 p-4 rounded-lg\">\n                    <div className=\"font-medium text-gray-300\">{key}</div>\n                    <div className=\"text-xl font-semibold mt-1\">{value}</div>\n                  </div>\n                ))}\n              </div>\n            </div>\n          )}\n\n          {activeTab === 'inventory' && (\n            <div>\n              <h2 className=\"text-2xl font-semibold mb-4 text-amber-400\">Inventory</h2>\n              {currentGame.inventoryItems.length === 0 ? (\n                <p className=\"text-gray-400\">Your inventory is empty.</p>\n              ) : (\n                <div className=\"space-y-4\">\n                  {currentGame.inventoryItems.map((item: InventoryItem, index) => (\n                    <div key={index} className=\"bg-gray-700 p-4 rounded-lg\">\n                      <div className=\"flex justify-between\">\n                        <h3 className=\"text-lg font-medium\">{item.name}</h3>\n                        {item.quantity > 1 && (\n                          <span className=\"text-amber-400\">x{item.quantity}</span>\n                        )}\n                      </div>\n                      {item.description && (\n                        <p className=\"mt-2 text-gray-300\">{item.description}</p>\n                      )}\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n          )}\n\n          {activeTab === 'skills' && (\n            <div>\n              <h2 className=\"text-2xl font-semibold mb-4 text-amber-400\">Skills & Abilities</h2>\n              {currentGame.characterSkills.length === 0 ? (\n                <p className=\"text-gray-400\">You have not learned any skills yet.</p>\n              ) : (\n                <div className=\"space-y-4\">\n                  {currentGame.characterSkills.map((skill: Skill, index) => (\n                    <div key={index} className=\"bg-gray-700 p-4 rounded-lg\">\n                      <div className=\"flex justify-between\">\n                        <h3 className=\"text-lg font-medium\">{skill.name}</h3>\n                        {skill.mastery && (\n                          <span className=\"text-amber-400\">{skill.mastery}</span>\n                        )}\n                        {skill.level && (\n                          <span className=\"text-amber-400\">Level {skill.level}</span>\n                        )}\n                      </div>\n                      {skill.description && (\n                        <p className=\"mt-2 text-gray-300\">{skill.description}</p>\n                      )}\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n          )}\n\n          {activeTab === 'lore' && (\n            <div>\n              <h2 className=\"text-2xl font-semibold mb-4 text-amber-400\">Lore & Knowledge</h2>\n              {currentGame.loreFragments.length === 0 ? (\n                <p className=\"text-gray-400\">You have not discovered any lore yet.</p>\n              ) : (\n                <div className=\"space-y-4\">\n                  {currentGame.loreFragments.map((lore: LoreFragment, index) => (\n                    <div key={index} className=\"bg-gray-700 p-4 rounded-lg\">\n                      <div className=\"flex items-center gap-2 mb-2\">\n                        <span className=\"px-2 py-1 text-xs rounded bg-gray-600 text-gray-300\">\n                          {lore.type}\n                        </span>\n                        <h3 className=\"text-lg font-medium\">{lore.title || lore.name}</h3>\n                      </div>\n                      <p className=\"text-gray-300\">{lore.content || lore.description}</p>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}}]
}
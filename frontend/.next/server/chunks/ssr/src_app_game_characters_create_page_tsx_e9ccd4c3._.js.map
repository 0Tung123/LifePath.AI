{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///D:/my-fullstack-app/frontend/src/app/game/characters/create/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, Suspense } from \"react\";\r\nimport { useRouter, useSearchParams } from \"next/navigation\";\r\nimport axios from \"axios\";\r\nimport Link from \"next/link\";\r\n\r\n// Type definitions\r\ntype GenreId =\r\n  | \"fantasy\"\r\n  | \"modern\"\r\n  | \"scifi\"\r\n  | \"xianxia\"\r\n  | \"wuxia\"\r\n  | \"horror\"\r\n  | \"cyberpunk\"\r\n  | \"steampunk\"\r\n  | \"postapocalyptic\"\r\n  | \"historical\";\r\n\r\ninterface CharacterData {\r\n  name: string;\r\n  characterClass: string;\r\n  primaryGenre: GenreId;\r\n  secondaryGenres: GenreId[];\r\n  customGenreDescription: string;\r\n  backstory: string;\r\n  attributes: {\r\n    strength: number;\r\n    intelligence: number;\r\n    dexterity: number;\r\n    charisma: number;\r\n    health: number;\r\n    mana: number;\r\n  };\r\n  skills: string[];\r\n}\r\n\r\n// Định nghĩa các thể loại game\r\nconst GAME_GENRES: Array<{\r\n  id: GenreId;\r\n  name: string;\r\n  description: string;\r\n}> = [\r\n  {\r\n    id: \"fantasy\",\r\n    name: \"Fantasy\",\r\n    description: \"Thế giới với phép thuật, hiệp sĩ, rồng và sinh vật huyền bí\",\r\n  },\r\n  {\r\n    id: \"modern\",\r\n    name: \"Modern\",\r\n    description: \"Thế giới hiện đại với công nghệ và xã hội như thực tế\",\r\n  },\r\n  {\r\n    id: \"scifi\",\r\n    name: \"Sci-Fi\",\r\n    description: \"Thế giới tương lai với công nghệ tiên tiến, du hành vũ trụ\",\r\n  },\r\n  {\r\n    id: \"xianxia\",\r\n    name: \"Tiên Hiệp\",\r\n    description: \"Thế giới tu tiên, trau dồi linh khí, thăng cấp cảnh giới\",\r\n  },\r\n  {\r\n    id: \"wuxia\",\r\n    name: \"Võ Hiệp\",\r\n    description: \"Thế giới võ thuật, giang hồ, kiếm hiệp\",\r\n  },\r\n  {\r\n    id: \"horror\",\r\n    name: \"Horror\",\r\n    description: \"Thế giới đầy rẫy những sinh vật kinh dị, ma quỷ và sự sợ hãi\",\r\n  },\r\n  {\r\n    id: \"cyberpunk\",\r\n    name: \"Cyberpunk\",\r\n    description:\r\n      \"Thế giới tương lai đen tối với công nghệ cao, tập đoàn lớn và cấy ghép cơ thể\",\r\n  },\r\n  {\r\n    id: \"steampunk\",\r\n    name: \"Steampunk\",\r\n    description:\r\n      \"Thế giới thay thế với công nghệ hơi nước tiên tiến, thường có bối cảnh thời Victoria\",\r\n  },\r\n  {\r\n    id: \"postapocalyptic\",\r\n    name: \"Post-Apocalyptic\",\r\n    description: \"Thế giới sau thảm họa toàn cầu, con người phải sinh tồn\",\r\n  },\r\n  {\r\n    id: \"historical\",\r\n    name: \"Historical\",\r\n    description: \"Thế giới dựa trên các giai đoạn lịch sử thực tế\",\r\n  },\r\n];\r\n\r\n// Định nghĩa các lớp nhân vật theo thể loại\r\nconst CHARACTER_CLASSES: Record<GenreId, string[]> = {\r\n  fantasy: [\r\n    \"Chiến binh\",\r\n    \"Pháp sư\",\r\n    \"Cung thủ\",\r\n    \"Đạo tặc\",\r\n    \"Giáo sĩ\",\r\n    \"Hiệp sĩ\",\r\n    \"Thuật sĩ\",\r\n  ],\r\n  modern: [\r\n    \"Thám tử\",\r\n    \"Bác sĩ\",\r\n    \"Cảnh sát\",\r\n    \"Hacker\",\r\n    \"Nhà khoa học\",\r\n    \"Vận động viên\",\r\n    \"Nghệ sĩ\",\r\n  ],\r\n  scifi: [\r\n    \"Phi hành gia\",\r\n    \"Kỹ sư robot\",\r\n    \"Lính đánh thuê\",\r\n    \"Nhà khoa học\",\r\n    \"Thợ săn tiền thưởng\",\r\n    \"Phi công\",\r\n    \"Hacker\",\r\n  ],\r\n  xianxia: [\r\n    \"Kiếm tu\",\r\n    \"Đan tu\",\r\n    \"Phù tu\",\r\n    \"Thể tu\",\r\n    \"Linh tu\",\r\n    \"Tâm tu\",\r\n    \"Võ tu\",\r\n  ],\r\n  wuxia: [\r\n    \"Kiếm khách\",\r\n    \"Võ sư\",\r\n    \"Thích khách\",\r\n    \"Hiệp khách\",\r\n    \"Thần y\",\r\n    \"Độc sư\",\r\n    \"Tiêu sư\",\r\n  ],\r\n  horror: [\r\n    \"Thợ săn quỷ\",\r\n    \"Nhà ngoại cảm\",\r\n    \"Nhà khoa học\",\r\n    \"Người sống sót\",\r\n    \"Linh mục trừ tà\",\r\n    \"Thám tử siêu nhiên\",\r\n    \"Pháp sư\",\r\n  ],\r\n  cyberpunk: [\r\n    \"Netrunner\",\r\n    \"Lính đánh thuê\",\r\n    \"Kỹ sư cấy ghép\",\r\n    \"Sát thủ\",\r\n    \"Hacker\",\r\n    \"Cảnh sát\",\r\n    \"Bác sĩ chợ đen\",\r\n  ],\r\n  steampunk: [\r\n    \"Nhà phát minh\",\r\n    \"Phi công\",\r\n    \"Thám tử\",\r\n    \"Quý tộc\",\r\n    \"Cơ khí sư\",\r\n    \"Nhà thám hiểm\",\r\n    \"Thủy thủ\",\r\n  ],\r\n  postapocalyptic: [\r\n    \"Người sống sót\",\r\n    \"Chiến binh\",\r\n    \"Thợ săn\",\r\n    \"Thầy thuốc\",\r\n    \"Kỹ sư\",\r\n    \"Thủ lĩnh\",\r\n    \"Trinh sát\",\r\n  ],\r\n  historical: [\r\n    \"Hiệp sĩ\",\r\n    \"Thương nhân\",\r\n    \"Học giả\",\r\n    \"Thám tử\",\r\n    \"Quý tộc\",\r\n    \"Thủy thủ\",\r\n    \"Thợ săn\",\r\n  ],\r\n};\r\n\r\nfunction CreateCharacterContent() {\r\n  const router = useRouter();\r\n  const searchParams = useSearchParams();\r\n  const preselectedGenre = searchParams.get(\"genre\");\r\n\r\n  const [step, setStep] = useState(1);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n  const [useAI, setUseAI] = useState(false);\r\n\r\n  // Form state\r\n  const [characterData, setCharacterData] = useState<CharacterData>({\r\n    name: \"\",\r\n    characterClass: \"\",\r\n    primaryGenre: (preselectedGenre as GenreId) || \"fantasy\",\r\n    secondaryGenres: [],\r\n    customGenreDescription: \"\",\r\n    backstory: \"\",\r\n    attributes: {\r\n      strength: 10,\r\n      intelligence: 10,\r\n      dexterity: 10,\r\n      charisma: 10,\r\n      health: 100,\r\n      mana: 100,\r\n    },\r\n    skills: [],\r\n  });\r\n\r\n  // AI generation state\r\n  const [aiDescription, setAiDescription] = useState(\"\");\r\n\r\n  // Xử lý thay đổi form\r\n  const handleChange = (\r\n    e: React.ChangeEvent<\r\n      HTMLInputElement | HTMLSelectElement | HTMLTextAreaElement\r\n    >\r\n  ) => {\r\n    const { name, value } = e.target;\r\n\r\n    if (name.includes(\".\")) {\r\n      const [parent, child] = name.split(\".\");\r\n      setCharacterData({\r\n        ...characterData,\r\n        [parent]: {\r\n          ...(characterData[parent as keyof typeof characterData] as Record<\r\n            string,\r\n            unknown\r\n          >),\r\n          [child]: value,\r\n        },\r\n      });\r\n    } else {\r\n      setCharacterData({\r\n        ...characterData,\r\n        [name as keyof typeof characterData]: value,\r\n      });\r\n    }\r\n  };\r\n\r\n  // Xử lý thay đổi thể loại phụ\r\n  const handleSecondaryGenreChange = (genreId: GenreId) => {\r\n    const currentSecondaryGenres = [...characterData.secondaryGenres];\r\n\r\n    if (currentSecondaryGenres.includes(genreId)) {\r\n      // Nếu đã có, loại bỏ\r\n      const updatedGenres = currentSecondaryGenres.filter(\r\n        (id) => id !== genreId\r\n      );\r\n      setCharacterData({\r\n        ...characterData,\r\n        secondaryGenres: updatedGenres,\r\n      });\r\n    } else {\r\n      // Nếu chưa có và chưa đạt giới hạn 2 thể loại phụ, thêm vào\r\n      if (currentSecondaryGenres.length < 2) {\r\n        setCharacterData({\r\n          ...characterData,\r\n          secondaryGenres: [...currentSecondaryGenres, genreId],\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  // Xử lý thay đổi thuộc tính\r\n  const handleAttributeChange = (attribute: string, value: string) => {\r\n    setCharacterData({\r\n      ...characterData,\r\n      attributes: {\r\n        ...characterData.attributes,\r\n        [attribute as keyof typeof characterData.attributes]: parseInt(value),\r\n      },\r\n    });\r\n  };\r\n\r\n  // Xử lý thêm/xóa kỹ năng\r\n  const handleSkillChange = (skill: string) => {\r\n    const currentSkills = [...characterData.skills];\r\n\r\n    if (currentSkills.includes(skill)) {\r\n      // Nếu đã có, loại bỏ\r\n      const updatedSkills = currentSkills.filter((s) => s !== skill);\r\n      setCharacterData({\r\n        ...characterData,\r\n        skills: updatedSkills,\r\n      });\r\n    } else {\r\n      // Nếu chưa có, thêm vào\r\n      setCharacterData({\r\n        ...characterData,\r\n        skills: [...currentSkills, skill],\r\n      });\r\n    }\r\n  };\r\n\r\n  // Tạo nhân vật bằng AI\r\n  const generateCharacter = async () => {\r\n    if (!aiDescription.trim()) {\r\n      setError(\"Vui lòng nhập mô tả cho nhân vật\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setLoading(true);\r\n      setError(\"\");\r\n\r\n      const response = await axios.post(\"/api/game/characters/generate\", {\r\n        description: aiDescription,\r\n        primaryGenre: characterData.primaryGenre,\r\n        secondaryGenres: characterData.secondaryGenres,\r\n        customGenreDescription: characterData.customGenreDescription,\r\n      });\r\n\r\n      setCharacterData(response.data);\r\n      setStep(4); // Chuyển đến bước xem trước\r\n      setLoading(false);\r\n    } catch (err) {\r\n      console.error(\"Error generating character:\", err);\r\n      setError(\"Không thể tạo nhân vật. Vui lòng thử lại sau.\");\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Tạo nhân vật thủ công\r\n  const createCharacter = async () => {\r\n    // Kiểm tra dữ liệu\r\n    if (!characterData.name.trim()) {\r\n      setError(\"Vui lòng nhập tên nhân vật\");\r\n      return;\r\n    }\r\n\r\n    if (!characterData.characterClass.trim()) {\r\n      setError(\"Vui lòng chọn lớp nhân vật\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setLoading(true);\r\n      setError(\"\");\r\n\r\n      const response = await axios.post(\"/api/game/characters\", characterData);\r\n\r\n      router.push(`/game/characters/${response.data.id}`);\r\n    } catch (err) {\r\n      console.error(\"Error creating character:\", err);\r\n      setError(\"Không thể tạo nhân vật. Vui lòng thử lại sau.\");\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Danh sách kỹ năng theo thể loại\r\n  const getSkillsByGenre = (genre: GenreId) => {\r\n    const skillsByGenre = {\r\n      fantasy: [\r\n        \"Kiếm thuật\",\r\n        \"Phép thuật\",\r\n        \"Cung thuật\",\r\n        \"Đánh cận chiến\",\r\n        \"Ẩn nấp\",\r\n        \"Sinh tồn\",\r\n        \"Thuốc\",\r\n        \"Khảo cổ\",\r\n        \"Lịch sử cổ đại\",\r\n        \"Nhận biết ma thuật\",\r\n      ],\r\n      modern: [\r\n        \"Lái xe\",\r\n        \"Sơ cứu\",\r\n        \"Công nghệ\",\r\n        \"Thuyết phục\",\r\n        \"Điều tra\",\r\n        \"Thể thao\",\r\n        \"Nấu ăn\",\r\n        \"Nghệ thuật\",\r\n        \"Ngôn ngữ\",\r\n        \"Kinh doanh\",\r\n      ],\r\n      scifi: [\r\n        \"Lập trình\",\r\n        \"Sửa chữa robot\",\r\n        \"Lái tàu vũ trụ\",\r\n        \"Kiến thức ngoài hành tinh\",\r\n        \"Vũ khí năng lượng\",\r\n        \"Sinh học không gian\",\r\n        \"Vật lý lượng tử\",\r\n        \"Sinh tồn không gian\",\r\n        \"Chiến thuật\",\r\n        \"Hack hệ thống\",\r\n      ],\r\n      xianxia: [\r\n        \"Kiếm đạo\",\r\n        \"Luyện đan\",\r\n        \"Tu luyện\",\r\n        \"Phù văn\",\r\n        \"Thiên nhãn\",\r\n        \"Thần thức\",\r\n        \"Kiếm ý\",\r\n        \"Ngộ tính\",\r\n        \"Đạo tâm\",\r\n        \"Linh thức\",\r\n      ],\r\n      wuxia: [\r\n        \"Kiếm pháp\",\r\n        \"Quyền pháp\",\r\n        \"Khinh công\",\r\n        \"Nội công\",\r\n        \"Điểm huyệt\",\r\n        \"Y thuật\",\r\n        \"Độc thuật\",\r\n        \"Ám khí\",\r\n        \"Võ học\",\r\n        \"Thiên văn địa lý\",\r\n      ],\r\n      horror: [\r\n        \"Trừ tà\",\r\n        \"Kiến thức huyền bí\",\r\n        \"Điều tra\",\r\n        \"Sinh tồn\",\r\n        \"Tâm lý học\",\r\n        \"Sơ cứu\",\r\n        \"Lịch sử huyền bí\",\r\n        \"Vũ khí\",\r\n        \"Nhận biết siêu nhiên\",\r\n        \"Nghi thức cổ đại\",\r\n      ],\r\n      cyberpunk: [\r\n        \"Hack\",\r\n        \"Cấy ghép\",\r\n        \"Vũ khí\",\r\n        \"Điện tử\",\r\n        \"Lái xe\",\r\n        \"Thị trường đen\",\r\n        \"Kiến thức đường phố\",\r\n        \"Sơ cứu\",\r\n        \"Thương lượng\",\r\n        \"Giả mạo\",\r\n      ],\r\n      steampunk: [\r\n        \"Cơ khí\",\r\n        \"Phát minh\",\r\n        \"Lái máy bay\",\r\n        \"Hóa học\",\r\n        \"Xã giao\",\r\n        \"Lịch sử\",\r\n        \"Điều tra\",\r\n        \"Vũ khí\",\r\n        \"Thiên văn học\",\r\n        \"Hàng hải\",\r\n      ],\r\n      postapocalyptic: [\r\n        \"Sinh tồn\",\r\n        \"Săn bắn\",\r\n        \"Sơ cứu\",\r\n        \"Sửa chữa\",\r\n        \"Nấu ăn dã chiến\",\r\n        \"Tìm kiếm\",\r\n        \"Chiến đấu\",\r\n        \"Nông nghiệp\",\r\n        \"Đàm phán\",\r\n        \"Định hướng\",\r\n      ],\r\n      historical: [\r\n        \"Kiếm thuật\",\r\n        \"Cưỡi ngựa\",\r\n        \"Xã giao\",\r\n        \"Lịch sử\",\r\n        \"Ngôn ngữ cổ\",\r\n        \"Hàng hải\",\r\n        \"Chiến thuật\",\r\n        \"Y học cổ truyền\",\r\n        \"Thương mại\",\r\n        \"Nghệ thuật\",\r\n      ],\r\n    };\r\n\r\n    return skillsByGenre[genre] || skillsByGenre.fantasy;\r\n  };\r\n\r\n  // Render các bước tạo nhân vật\r\n  const renderStep = () => {\r\n    switch (step) {\r\n      case 1: // Chọn phương thức tạo nhân vật\r\n        return (\r\n          <div className=\"bg-gray-800 rounded-xl p-8 shadow-lg max-w-2xl mx-auto\">\r\n            <h2 className=\"text-3xl font-bold mb-6 text-center\">\r\n              Chọn Phương Thức Tạo Nhân Vật\r\n            </h2>\r\n\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mt-8\">\r\n              <button\r\n                onClick={() => {\r\n                  setUseAI(false);\r\n                  setStep(2);\r\n                }}\r\n                className=\"bg-gradient-to-r from-blue-600 to-blue-800 hover:from-blue-700 hover:to-blue-900 text-white p-6 rounded-xl transition-all transform hover:scale-105 flex flex-col items-center text-center\"\r\n              >\r\n                <svg\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                  className=\"h-16 w-16 mb-4\"\r\n                  fill=\"none\"\r\n                  viewBox=\"0 0 24 24\"\r\n                  stroke=\"currentColor\"\r\n                >\r\n                  <path\r\n                    strokeLinecap=\"round\"\r\n                    strokeLinejoin=\"round\"\r\n                    strokeWidth={2}\r\n                    d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\"\r\n                  />\r\n                </svg>\r\n                <h3 className=\"text-xl font-bold mb-2\">Tạo Thủ Công</h3>\r\n                <p className=\"text-sm text-gray-300\">\r\n                  Tự thiết kế nhân vật của bạn với đầy đủ tùy chỉnh\r\n                </p>\r\n              </button>\r\n\r\n              <button\r\n                onClick={() => {\r\n                  setUseAI(true);\r\n                  setStep(2);\r\n                }}\r\n                className=\"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white p-6 rounded-xl transition-all transform hover:scale-105 flex flex-col items-center text-center\"\r\n              >\r\n                <svg\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                  className=\"h-16 w-16 mb-4\"\r\n                  fill=\"none\"\r\n                  viewBox=\"0 0 24 24\"\r\n                  stroke=\"currentColor\"\r\n                >\r\n                  <path\r\n                    strokeLinecap=\"round\"\r\n                    strokeLinejoin=\"round\"\r\n                    strokeWidth={2}\r\n                    d=\"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z\"\r\n                  />\r\n                </svg>\r\n                <h3 className=\"text-xl font-bold mb-2\">Tạo Bằng AI</h3>\r\n                <p className=\"text-sm text-gray-300\">\r\n                  Mô tả nhân vật bạn muốn và để AI tạo ra nhân vật hoàn chỉnh\r\n                </p>\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"mt-8 text-center\">\r\n              <Link\r\n                href=\"/game\"\r\n                className=\"text-blue-400 hover:text-blue-300 transition-colors\"\r\n              >\r\n                Quay lại trang chủ\r\n              </Link>\r\n            </div>\r\n          </div>\r\n        );\r\n\r\n      case 2: // Chọn thể loại\r\n        return (\r\n          <div className=\"bg-gray-800 rounded-xl p-8 shadow-lg max-w-4xl mx-auto\">\r\n            <h2 className=\"text-3xl font-bold mb-6 text-center\">\r\n              Chọn Thể Loại\r\n            </h2>\r\n\r\n            <div className=\"mb-6\">\r\n              <label className=\"block text-gray-300 mb-2\">Thể loại chính</label>\r\n              <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4\">\r\n                {GAME_GENRES.map((genre) => (\r\n                  <button\r\n                    key={genre.id}\r\n                    type=\"button\"\r\n                    onClick={() =>\r\n                      setCharacterData({\r\n                        ...characterData,\r\n                        primaryGenre: genre.id,\r\n                      })\r\n                    }\r\n                    className={`p-3 rounded-lg text-center transition-colors ${\r\n                      characterData.primaryGenre === genre.id\r\n                        ? \"bg-blue-600 text-white\"\r\n                        : \"bg-gray-700 text-gray-300 hover:bg-gray-600\"\r\n                    }`}\r\n                  >\r\n                    {genre.name}\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"mb-6\">\r\n              <label className=\"block text-gray-300 mb-2\">\r\n                Thể loại phụ (tối đa 2)\r\n              </label>\r\n              <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4\">\r\n                {GAME_GENRES.filter(\r\n                  (genre) => genre.id !== characterData.primaryGenre\r\n                ).map((genre) => (\r\n                  <button\r\n                    key={genre.id}\r\n                    type=\"button\"\r\n                    onClick={() => handleSecondaryGenreChange(genre.id)}\r\n                    className={`p-3 rounded-lg text-center transition-colors ${\r\n                      characterData.secondaryGenres.includes(genre.id)\r\n                        ? \"bg-green-600 text-white\"\r\n                        : \"bg-gray-700 text-gray-300 hover:bg-gray-600\"\r\n                    } ${\r\n                      characterData.secondaryGenres.length >= 2 &&\r\n                      !characterData.secondaryGenres.includes(genre.id)\r\n                        ? \"opacity-50 cursor-not-allowed\"\r\n                        : \"\"\r\n                    }`}\r\n                    disabled={\r\n                      characterData.secondaryGenres.length >= 2 &&\r\n                      !characterData.secondaryGenres.includes(genre.id)\r\n                    }\r\n                  >\r\n                    {genre.name}\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"mb-8\">\r\n              <label className=\"block text-gray-300 mb-2\">\r\n                Mô tả thể loại tùy chỉnh (tùy chọn)\r\n              </label>\r\n              <textarea\r\n                name=\"customGenreDescription\"\r\n                value={characterData.customGenreDescription}\r\n                onChange={handleChange}\r\n                className=\"w-full bg-gray-700 text-white rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                rows={3}\r\n                placeholder=\"Mô tả thêm về thế giới và bối cảnh bạn muốn...\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"flex justify-between mt-8\">\r\n              <button\r\n                onClick={() => setStep(1)}\r\n                className=\"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-md transition-colors\"\r\n              >\r\n                Quay lại\r\n              </button>\r\n              <button\r\n                onClick={() => setStep(useAI ? 3 : 4)}\r\n                className=\"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-md transition-colors\"\r\n              >\r\n                Tiếp tục\r\n              </button>\r\n            </div>\r\n          </div>\r\n        );\r\n\r\n      case 3: // Tạo nhân vật bằng AI\r\n        return (\r\n          <div className=\"bg-gray-800 rounded-xl p-8 shadow-lg max-w-3xl mx-auto\">\r\n            <h2 className=\"text-3xl font-bold mb-6 text-center\">\r\n              Tạo Nhân Vật Bằng AI\r\n            </h2>\r\n\r\n            <div className=\"mb-8\">\r\n              <label className=\"block text-gray-300 mb-2\">\r\n                Mô tả nhân vật của bạn\r\n              </label>\r\n              <textarea\r\n                value={aiDescription}\r\n                onChange={(e) => setAiDescription(e.target.value)}\r\n                className=\"w-full bg-gray-700 text-white rounded-lg p-4 focus:outline-none focus:ring-2 focus:ring-purple-500\"\r\n                rows={6}\r\n                placeholder=\"Mô tả chi tiết về nhân vật bạn muốn tạo. Ví dụ: Một chiến binh trẻ với khả năng đặc biệt, xuất thân từ một ngôi làng nhỏ, có ước mơ trở thành hiệp sĩ vĩ đại...\"\r\n              />\r\n              <p className=\"text-gray-400 text-sm mt-2\">\r\n                Mô tả càng chi tiết, nhân vật được tạo ra càng phù hợp với mong\r\n                muốn của bạn.\r\n              </p>\r\n            </div>\r\n\r\n            {error && (\r\n              <div className=\"mb-6 p-3 bg-red-900/50 text-red-200 rounded-lg\">\r\n                {error}\r\n              </div>\r\n            )}\r\n\r\n            <div className=\"flex justify-between mt-8\">\r\n              <button\r\n                onClick={() => setStep(2)}\r\n                className=\"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-md transition-colors\"\r\n                disabled={loading}\r\n              >\r\n                Quay lại\r\n              </button>\r\n              <button\r\n                onClick={generateCharacter}\r\n                className={`px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 rounded-md transition-colors flex items-center ${\r\n                  loading ? \"opacity-70 cursor-wait\" : \"\"\r\n                }`}\r\n                disabled={loading}\r\n              >\r\n                {loading ? (\r\n                  <>\r\n                    <svg\r\n                      className=\"animate-spin -ml-1 mr-3 h-5 w-5 text-white\"\r\n                      xmlns=\"http://www.w3.org/2000/svg\"\r\n                      fill=\"none\"\r\n                      viewBox=\"0 0 24 24\"\r\n                    >\r\n                      <circle\r\n                        className=\"opacity-25\"\r\n                        cx=\"12\"\r\n                        cy=\"12\"\r\n                        r=\"10\"\r\n                        stroke=\"currentColor\"\r\n                        strokeWidth=\"4\"\r\n                      ></circle>\r\n                      <path\r\n                        className=\"opacity-75\"\r\n                        fill=\"currentColor\"\r\n                        d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\r\n                      ></path>\r\n                    </svg>\r\n                    Đang tạo...\r\n                  </>\r\n                ) : (\r\n                  \"Tạo nhân vật\"\r\n                )}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        );\r\n\r\n      case 4: // Tạo nhân vật thủ công hoặc xem trước nhân vật AI\r\n        return (\r\n          <div className=\"bg-gray-800 rounded-xl p-8 shadow-lg max-w-4xl mx-auto\">\r\n            <h2 className=\"text-3xl font-bold mb-6 text-center\">\r\n              {useAI ? \"Xem Trước Nhân Vật\" : \"Tạo Nhân Vật\"}\r\n            </h2>\r\n\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8\">\r\n              <div>\r\n                <div className=\"mb-6\">\r\n                  <label className=\"block text-gray-300 mb-2\">\r\n                    Tên nhân vật\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"name\"\r\n                    value={characterData.name}\r\n                    onChange={handleChange}\r\n                    className=\"w-full bg-gray-700 text-white rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                    placeholder=\"Nhập tên nhân vật\"\r\n                    disabled={useAI && loading}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"mb-6\">\r\n                  <label className=\"block text-gray-300 mb-2\">\r\n                    Lớp nhân vật\r\n                  </label>\r\n                  <select\r\n                    name=\"characterClass\"\r\n                    value={characterData.characterClass}\r\n                    onChange={handleChange}\r\n                    className=\"w-full bg-gray-700 text-white rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                    disabled={useAI && loading}\r\n                  >\r\n                    <option value=\"\">Chọn lớp nhân vật</option>\r\n                    {CHARACTER_CLASSES[\r\n                      characterData.primaryGenre as keyof typeof CHARACTER_CLASSES\r\n                    ]?.map((className) => (\r\n                      <option key={className} value={className}>\r\n                        {className}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n\r\n                <div className=\"mb-6\">\r\n                  <label className=\"block text-gray-300 mb-2\">Tiểu sử</label>\r\n                  <textarea\r\n                    name=\"backstory\"\r\n                    value={characterData.backstory}\r\n                    onChange={handleChange}\r\n                    className=\"w-full bg-gray-700 text-white rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                    rows={5}\r\n                    placeholder=\"Mô tả về quá khứ và lai lịch của nhân vật...\"\r\n                    disabled={useAI && loading}\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div>\r\n                <div className=\"mb-6\">\r\n                  <label className=\"block text-gray-300 mb-2\">Thuộc tính</label>\r\n                  <div className=\"grid grid-cols-2 gap-4\">\r\n                    {Object.entries(characterData.attributes).map(\r\n                      ([attribute, value]) => (\r\n                        <div key={attribute} className=\"mb-3\">\r\n                          <label className=\"block text-gray-400 text-sm mb-1 capitalize\">\r\n                            {attribute === \"strength\"\r\n                              ? \"Sức mạnh\"\r\n                              : attribute === \"intelligence\"\r\n                              ? \"Trí tuệ\"\r\n                              : attribute === \"dexterity\"\r\n                              ? \"Nhanh nhẹn\"\r\n                              : attribute === \"charisma\"\r\n                              ? \"Quyến rũ\"\r\n                              : attribute === \"health\"\r\n                              ? \"Sinh lực\"\r\n                              : attribute === \"mana\"\r\n                              ? \"Năng lượng\"\r\n                              : attribute}\r\n                          </label>\r\n                          <input\r\n                            type=\"range\"\r\n                            min={\r\n                              attribute === \"health\" || attribute === \"mana\"\r\n                                ? 50\r\n                                : 5\r\n                            }\r\n                            max={\r\n                              attribute === \"health\" || attribute === \"mana\"\r\n                                ? 200\r\n                                : 20\r\n                            }\r\n                            value={value}\r\n                            onChange={(e) =>\r\n                              handleAttributeChange(attribute, e.target.value)\r\n                            }\r\n                            className=\"w-full\"\r\n                            disabled={useAI && loading}\r\n                          />\r\n                          <div className=\"flex justify-between text-xs text-gray-400\">\r\n                            <span>{value}</span>\r\n                            <span>\r\n                              {attribute === \"health\" || attribute === \"mana\"\r\n                                ? 200\r\n                                : 20}\r\n                            </span>\r\n                          </div>\r\n                        </div>\r\n                      )\r\n                    )}\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"mb-6\">\r\n                  <label className=\"block text-gray-300 mb-2\">\r\n                    Kỹ năng (chọn tối đa 5)\r\n                  </label>\r\n                  <div className=\"flex flex-wrap gap-2\">\r\n                    {getSkillsByGenre(characterData.primaryGenre).map(\r\n                      (skill) => (\r\n                        <button\r\n                          key={skill}\r\n                          type=\"button\"\r\n                          onClick={() => handleSkillChange(skill)}\r\n                          className={`px-3 py-1 rounded-full text-sm transition-colors ${\r\n                            characterData.skills.includes(skill)\r\n                              ? \"bg-green-600 text-white\"\r\n                              : \"bg-gray-700 text-gray-300 hover:bg-gray-600\"\r\n                          } ${\r\n                            characterData.skills.length >= 5 &&\r\n                            !characterData.skills.includes(skill)\r\n                              ? \"opacity-50 cursor-not-allowed\"\r\n                              : \"\"\r\n                          }`}\r\n                          disabled={\r\n                            (characterData.skills.length >= 5 &&\r\n                              !characterData.skills.includes(skill)) ||\r\n                            (useAI && loading)\r\n                          }\r\n                        >\r\n                          {skill}\r\n                        </button>\r\n                      )\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {error && (\r\n              <div className=\"mb-6 p-3 bg-red-900/50 text-red-200 rounded-lg\">\r\n                {error}\r\n              </div>\r\n            )}\r\n\r\n            <div className=\"flex justify-between mt-8\">\r\n              <button\r\n                onClick={() => setStep(useAI ? 3 : 2)}\r\n                className=\"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-md transition-colors\"\r\n                disabled={loading}\r\n              >\r\n                Quay lại\r\n              </button>\r\n              <button\r\n                onClick={createCharacter}\r\n                className={`px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 rounded-md transition-colors flex items-center ${\r\n                  loading ? \"opacity-70 cursor-wait\" : \"\"\r\n                }`}\r\n                disabled={loading}\r\n              >\r\n                {loading ? (\r\n                  <>\r\n                    <svg\r\n                      className=\"animate-spin -ml-1 mr-3 h-5 w-5 text-white\"\r\n                      xmlns=\"http://www.w3.org/2000/svg\"\r\n                      fill=\"none\"\r\n                      viewBox=\"0 0 24 24\"\r\n                    >\r\n                      <circle\r\n                        className=\"opacity-25\"\r\n                        cx=\"12\"\r\n                        cy=\"12\"\r\n                        r=\"10\"\r\n                        stroke=\"currentColor\"\r\n                        strokeWidth=\"4\"\r\n                      ></circle>\r\n                      <path\r\n                        className=\"opacity-75\"\r\n                        fill=\"currentColor\"\r\n                        d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\r\n                      ></path>\r\n                    </svg>\r\n                    Đang lưu...\r\n                  </>\r\n                ) : (\r\n                  \"Tạo nhân vật\"\r\n                )}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        );\r\n\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-900 text-white py-12 px-4\">\r\n      {renderStep()}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default function CreateCharacterPage() {\r\n  return (\r\n    <Suspense\r\n      fallback={\r\n        <div className=\"min-h-screen bg-gray-900 text-white flex items-center justify-center\">\r\n          <div className=\"text-center\">\r\n            <div className=\"animate-pulse text-2xl font-bold mb-4\">\r\n              Đang tải...\r\n            </div>\r\n            <div className=\"w-12 h-12 border-t-4 border-blue-500 border-solid rounded-full animate-spin mx-auto\"></div>\r\n          </div>\r\n        </div>\r\n      }\r\n    >\r\n      <CreateCharacterContent />\r\n    </Suspense>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAsCA,+BAA+B;AAC/B,MAAM,cAID;IACH;QACE,IAAI;QACJ,MAAM;QACN,aAAa;IACf;IACA;QACE,IAAI;QACJ,MAAM;QACN,aAAa;IACf;IACA;QACE,IAAI;QACJ,MAAM;QACN,aAAa;IACf;IACA;QACE,IAAI;QACJ,MAAM;QACN,aAAa;IACf;IACA;QACE,IAAI;QACJ,MAAM;QACN,aAAa;IACf;IACA;QACE,IAAI;QACJ,MAAM;QACN,aAAa;IACf;IACA;QACE,IAAI;QACJ,MAAM;QACN,aACE;IACJ;IACA;QACE,IAAI;QACJ,MAAM;QACN,aACE;IACJ;IACA;QACE,IAAI;QACJ,MAAM;QACN,aAAa;IACf;IACA;QACE,IAAI;QACJ,MAAM;QACN,aAAa;IACf;CACD;AAED,4CAA4C;AAC5C,MAAM,oBAA+C;IACnD,SAAS;QACP;QACA;QACA;QACA;QACA;QACA;QACA;KACD;IACD,QAAQ;QACN;QACA;QACA;QACA;QACA;QACA;QACA;KACD;IACD,OAAO;QACL;QACA;QACA;QACA;QACA;QACA;QACA;KACD;IACD,SAAS;QACP;QACA;QACA;QACA;QACA;QACA;QACA;KACD;IACD,OAAO;QACL;QACA;QACA;QACA;QACA;QACA;QACA;KACD;IACD,QAAQ;QACN;QACA;QACA;QACA;QACA;QACA;QACA;KACD;IACD,WAAW;QACT;QACA;QACA;QACA;QACA;QACA;QACA;KACD;IACD,WAAW;QACT;QACA;QACA;QACA;QACA;QACA;QACA;KACD;IACD,iBAAiB;QACf;QACA;QACA;QACA;QACA;QACA;QACA;KACD;IACD,YAAY;QACV;QACA;QACA;QACA;QACA;QACA;QACA;KACD;AACH;AAEA,SAAS;IACP,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,eAAe,CAAA,GAAA,kIAAA,CAAA,kBAAe,AAAD;IACnC,MAAM,mBAAmB,aAAa,GAAG,CAAC;IAE1C,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,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E,SAAS,IAAI,CAAC,EAAE,EAAE;QACpD,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,6BAA6B;YAC3C,SAAS;YACT,WAAW;QACb;IACF;IAEA,kCAAkC;IAClC,MAAM,mBAAmB,CAAC;QACxB,MAAM,gBAAgB;YACpB,SAAS;gBACP;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;aACD;YACD,QAAQ;gBACN;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;aACD;YACD,OAAO;gBACL;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;aACD;YACD,SAAS;gBACP;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;aACD;YACD,OAAO;gBACL;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;aACD;YACD,QAAQ;gBACN;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;aACD;YACD,WAAW;gBACT;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;aACD;YACD,WAAW;gBACT;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;aACD;YACD,iBAAiB;gBACf;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;aACD;YACD,YAAY;gBACV;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;aACD;QACH;QAEA,OAAO,aAAa,CAAC,MAAM,IAAI,cAAc,OAAO;IACtD;IAEA,+BAA+B;IAC/B,MAAM,aAAa;QACjB,OAAQ;YACN,KAAK;gBACH,qBACE,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAG,WAAU;sCAAsC;;;;;;sCAIpD,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCACC,SAAS;wCACP,SAAS;wCACT,QAAQ;oCACV;oCACA,WAAU;;sDAEV,8OAAC;4CACC,OAAM;4CACN,WAAU;4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","debugId":null}}]
}
{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 31, "column": 0}, "map": {"version":3,"sources":["file:///D:/my-fullstack-app/frontend/src/components/Header.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState } from \"react\";\nimport Link from \"next/link\";\nimport { useRouter } from \"next/navigation\";\nimport { useAuth } from \"@/contexts/AuthContext\";\n\nexport default function Header() {\n  const { user, isAuthenticated, logout } = useAuth();\n  const router = useRouter();\n  const [isMenuOpen, setIsMenuOpen] = useState<boolean>(false);\n\n  const toggleMenu = () => {\n    setIsMenuOpen(!isMenuOpen);\n  };\n\n  return (\n    <header className=\"bg-gray-800 text-white shadow-md\">\n      <div className=\"container mx-auto px-4\">\n        <div className=\"flex justify-between items-center py-4\">\n          <div>\n            <Link href=\"/dashboard\" className=\"text-xl font-bold\">\n              RPG Adventure\n            </Link>\n          </div>\n\n          {isAuthenticated && (\n            <div className=\"relative\">\n              <button\n                onClick={toggleMenu}\n                className=\"flex items-center space-x-2 focus:outline-none\"\n              >\n                <div className=\"w-8 h-8 rounded-full bg-gray-600 flex items-center justify-center\">\n                  {user?.profilePicture ? (\n                    <img\n                      src={user.profilePicture}\n                      alt={`${user.firstName || \"User\"}'s avatar`}\n                      className=\"w-8 h-8 rounded-full\"\n                    />\n                  ) : (\n                    <span className=\"text-sm font-medium\">\n                      {user?.firstName?.[0]?.toUpperCase() ||\n                        user?.email?.[0]?.toUpperCase() ||\n                        \"U\"}\n                    </span>\n                  )}\n                </div>\n                <span className=\"hidden md:inline\">\n                  {user?.firstName || user?.email?.split(\"@\")[0] || \"User\"}\n                </span>\n              </button>\n\n              {isMenuOpen && (\n                <div className=\"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-10\">\n                  <Link\n                    href=\"/dashboard\"\n                    className=\"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\"\n                    onClick={() => setIsMenuOpen(false)}\n                  >\n                    Dashboard\n                  </Link>\n                  <Link\n                    href=\"/profile\"\n                    className=\"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\"\n                    onClick={() => setIsMenuOpen(false)}\n                  >\n                    Profile\n                  </Link>\n                  <button\n                    onClick={() => {\n                      logout();\n                      setIsMenuOpen(false);\n                    }}\n                    className=\"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\"\n                  >\n                    Sign out\n                  </button>\n                </div>\n              )}\n            </div>\n          )}\n        </div>\n      </div>\n    </header>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAOe,SAAS;IACtB,MAAM,EAAE,IAAI,EAAE,eAAe,EAAE,MAAM,EAAE,GAAG,CAAA,GAAA,+HAAA,CAAA,UAAO,AAAD;IAChD,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAW;IAEtD,MAAM,aAAa;QACjB,cAAc,CAAC;IACjB;IAEA,qBACE,8OAAC;QAAO,WAAU;kBAChB,cAAA,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;kCACC,cAAA,8OAAC,4JAAA,CAAA,UAAI;4BAAC,MAAK;4BAAa,WAAU;sCAAoB;;;;;;;;;;;oBAKvD,iCACC,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCACC,SAAS;gCACT,WAAU;;kDAEV,8OAAC;wCAAI,WAAU;kDACZ,MAAM,+BACL,8OAAC;4CACC,KAAK,KAAK,cAAc;4CACxB,KAAK,GAAG,KAAK,SAAS,IAAI,OAAO,SAAS,CAAC;4CAC3C,WAAU;;;;;iEAGZ,8OAAC;4CAAK,WAAU;sDACb,MAAM,WAAW,CAAC,EAAE,EAAE,iBACrB,MAAM,OAAO,CAAC,EAAE,EAAE,iBAClB;;;;;;;;;;;kDAIR,8OAAC;wCAAK,WAAU;kDACb,MAAM,aAAa,MAAM,OAAO,MAAM,IAAI,CAAC,EAAE,IAAI;;;;;;;;;;;;4BAIrD,4BACC,8OAAC;gCAAI,WAAU;;kDACb,8OAAC,4JAAA,CAAA,UAAI;wCACH,MAAK;wCACL,WAAU;wCACV,SAAS,IAAM,cAAc;kDAC9B;;;;;;kDAGD,8OAAC,4JAAA,CAAA,UAAI;wCACH,MAAK;wCACL,WAAU;wCACV,SAAS,IAAM,cAAc;kDAC9B;;;;;;kDAGD,8OAAC;wCACC,SAAS;4CACP;4CACA,cAAc;wCAChB;wCACA,WAAU;kDACX;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAWnB","debugId":null}},
    {"offset": {"line": 188, "column": 0}, "map": {"version":3,"sources":["file:///D:/my-fullstack-app/frontend/src/app/dashboard/page.tsx"],"sourcesContent":["'use client';\n\nimport React, { useEffect, useState } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { useAuth } from '@/contexts/AuthContext';\nimport { useGame } from '@/contexts/GameContext';\nimport { GameSettings } from '@/services/game.service';\nimport Header from '@/components/Header';\n\nexport default function Dashboard() {\n  const { user, isAuthenticated, isLoading: authLoading } = useAuth();\n  const { createGame, isLoading: gameLoading } = useGame();\n  const router = useRouter();\n\n  const [formData, setFormData] = useState<GameSettings>({\n    theme: '',\n    setting: '',\n    characterName: '',\n    characterBackstory: '',\n    additionalSettings: {\n      style: 'Chinese',\n      difficulty: 'medium',\n      gameLength: 'medium',\n      combatStyle: 'balanced'\n    }\n  });\n\n  const [error, setError] = useState<string>('');\n\n  // Redirect if not authenticated\n  useEffect(() => {\n    if (!authLoading && !isAuthenticated) {\n      router.push('/login');\n    }\n  }, [authLoading, isAuthenticated, router]);\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement>) => {\n    const { name, value } = e.target;\n    \n    if (name.includes('.')) {\n      const [parent, child] = name.split('.');\n      setFormData({\n        ...formData,\n        [parent]: {\n          ...formData[parent as keyof GameSettings] as Record<string, unknown>,\n          [child]: value\n        }\n      });\n    } else {\n      setFormData({\n        ...formData,\n        [name]: value\n      });\n    }\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError('');\n\n    try {\n      const game = await createGame(formData);\n      router.push(`/game/${game.id}`);\n    } catch (err) {\n      setError( 'Failed to create game. Please try again.');\n    }\n  };\n\n  if (authLoading) {\n    return <div className=\"flex items-center justify-center min-h-screen\">Loading...</div>;\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-100\">\n      <Header />\n      <div className=\"py-6 mx-auto max-w-7xl sm:px-6 lg:px-8\">\n        <div className=\"px-4 sm:px-0\">\n          <h1 className=\"text-3xl font-extrabold text-gray-900\">\n            Welcome, {user?.firstName || 'Adventurer'}!\n          </h1>\n          <p className=\"mt-2 text-sm text-gray-600\">\n            Create a new adventure to begin your journey.\n          </p>\n        </div>\n\n        <div className=\"mt-8\">\n          <div className=\"p-6 bg-white rounded-lg shadow\">\n            <h2 className=\"text-xl font-semibold text-gray-900\">Create New Adventure</h2>\n            \n            {error && (\n              <div className=\"p-4 mt-4 text-red-700 bg-red-100 rounded-md\" role=\"alert\">\n                {error}\n              </div>\n            )}\n\n            <form onSubmit={handleSubmit} className=\"mt-6 space-y-6\">\n              <div className=\"grid grid-cols-1 gap-6 md:grid-cols-2\">\n                <div>\n                  <label htmlFor=\"theme\" className=\"block text-sm font-medium text-gray-700\">\n                    Theme\n                  </label>\n                  <select\n                    id=\"theme\"\n                    name=\"theme\"\n                    required\n                    value={formData.theme}\n                    onChange={handleChange}\n                    className=\"block w-full px-3 py-2 mt-1 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\n                  >\n                    <option value=\"\">Select a theme</option>\n                    <option value=\"Fantasy\">Fantasy</option>\n                    <option value=\"Sci-Fi\">Sci-Fi</option>\n                    <option value=\"Post-Apocalyptic\">Post-Apocalyptic</option>\n                    <option value=\"Historical\">Historical</option>\n                    <option value=\"Modern\">Modern</option>\n                    <option value=\"Horror\">Horror</option>\n                  </select>\n                </div>\n                \n                <div>\n                  <label htmlFor=\"setting\" className=\"block text-sm font-medium text-gray-700\">\n                    Setting\n                  </label>\n                  <input\n                    type=\"text\"\n                    name=\"setting\"\n                    id=\"setting\"\n                    required\n                    placeholder=\"e.g., Medieval Kingdom, Space Station, Zombie Wasteland\"\n                    value={formData.setting}\n                    onChange={handleChange}\n                    className=\"block w-full px-3 py-2 mt-1 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\n                  />\n                </div>\n                \n                <div>\n                  <label htmlFor=\"characterName\" className=\"block text-sm font-medium text-gray-700\">\n                    Character Name\n                  </label>\n                  <input\n                    type=\"text\"\n                    name=\"characterName\"\n                    id=\"characterName\"\n                    required\n                    value={formData.characterName}\n                    onChange={handleChange}\n                    className=\"block w-full px-3 py-2 mt-1 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\n                  />\n                </div>\n                \n                <div>\n                  <label htmlFor=\"additionalSettings.style\" className=\"block text-sm font-medium text-gray-700\">\n                    Storytelling Style\n                  </label>\n                  <select\n                    id=\"additionalSettings.style\"\n                    name=\"additionalSettings.style\"\n                    value={formData.additionalSettings?.style}\n                    onChange={handleChange}\n                    className=\"block w-full px-3 py-2 mt-1 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\n                  >\n                    <option value=\"Chinese\">Chinese Style (Tiên Hiệp, Huyền Huyễn)</option>\n                    <option value=\"Korean\">Korean Style (Murim, Hunter, Học Đường)</option>\n                  </select>\n                </div>\n                \n                <div>\n                  <label htmlFor=\"additionalSettings.difficulty\" className=\"block text-sm font-medium text-gray-700\">\n                    Difficulty\n                  </label>\n                  <select\n                    id=\"additionalSettings.difficulty\"\n                    name=\"additionalSettings.difficulty\"\n                    value={formData.additionalSettings?.difficulty}\n                    onChange={handleChange}\n                    className=\"block w-full px-3 py-2 mt-1 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\n                  >\n                    <option value=\"easy\">Easy</option>\n                    <option value=\"medium\">Medium</option>\n                    <option value=\"hard\">Hard</option>\n                  </select>\n                </div>\n                \n                <div className=\"col-span-1 md:col-span-2\">\n                  <label htmlFor=\"characterBackstory\" className=\"block text-sm font-medium text-gray-700\">\n                    Character Backstory\n                  </label>\n                  <textarea\n                    id=\"characterBackstory\"\n                    name=\"characterBackstory\"\n                    rows={4}\n                    required\n                    placeholder=\"Describe your character's background, motivations, and goals...\"\n                    value={formData.characterBackstory}\n                    onChange={handleChange}\n                    className=\"block w-full px-3 py-2 mt-1 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\n                  />\n                </div>\n              </div>\n              \n              <div>\n                <button\n                  type=\"submit\"\n                  disabled={gameLoading}\n                  className=\"flex justify-center w-full px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50\"\n                >\n                  {gameLoading ? 'Creating Adventure...' : 'Start New Adventure'}\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}}]
}
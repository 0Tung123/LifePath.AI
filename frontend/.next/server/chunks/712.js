exports.id=712,exports.ids=[712],exports.modules={13396:(e,t,r)=>{"use strict";r.d(t,{AuthProvider:()=>o,A:()=>l});var s=r(60687),a=r(43210);let i=async()=>{try{let e=await fetch("/api/auth/status",{method:"GET",credentials:"include"});if(e.ok)return await e.json();return{isAuthenticated:!1}}catch(e){return console.error("Error checking auth status:",e),{isAuthenticated:!1}}},n=(0,a.createContext)(void 0),l=()=>{let e=(0,a.useContext)(n);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e},o=({children:e})=>{let[t,r]=(0,a.useState)(!1),[l,o]=(0,a.useState)(null),[c,d]=(0,a.useState)(!0),h=async()=>{try{d(!0);let e=await i();r(e.isAuthenticated),o(e.user||null)}catch(e){console.error("Error checking authentication:",e),r(!1),o(null)}finally{d(!1)}};return(0,a.useEffect)(()=>{h()},[]),(0,s.jsx)(n.Provider,{value:{isAuthenticated:t,user:l,loading:c,checkAuth:h},children:e})}},17327:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=r(51060).A.create({baseURL:"http://localhost:3001",withCredentials:!0,headers:{"Content-Type":"application/json"}})},22160:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var s=r(60687),a=r(43210),i=r(16189),n=r(85814),l=r.n(n),o=r(30474),c=r(17327);function d({children:e}){let t=(0,i.useRouter)(),r=(0,i.usePathname)(),[n,d]=(0,a.useState)(null),[h,m]=(0,a.useState)(!0),x=r.includes("/game/play/");return h?(0,s.jsx)("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-pulse text-2xl font-bold mb-4",children:"Đang tải..."}),(0,s.jsx)("div",{className:"w-12 h-12 border-t-4 border-blue-500 border-solid rounded-full animate-spin mx-auto"})]})}):x?(0,s.jsx)(s.Fragment,{children:e}):(0,s.jsxs)("div",{className:"min-h-screen bg-gray-900 text-white flex flex-col",children:[(0,s.jsx)("header",{className:"bg-gray-800 border-b border-gray-700",children:(0,s.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-8",children:[(0,s.jsx)(l(),{href:"/game",className:"text-2xl font-bold",children:"Thế Giới Phi\xeau Lưu"}),(0,s.jsxs)("nav",{className:"hidden md:flex space-x-6",children:[(0,s.jsx)(l(),{href:"/game",className:`transition-colors ${"/game"===r?"text-blue-400":"text-gray-300 hover:text-white"}`,children:"Trang Chủ"}),(0,s.jsx)(l(),{href:"/game/characters",className:`transition-colors ${r.includes("/game/characters")?"text-blue-400":"text-gray-300 hover:text-white"}`,children:"Nh\xe2n Vật"}),(0,s.jsx)(l(),{href:"/game/sessions",className:`transition-colors ${r.includes("/game/sessions")?"text-blue-400":"text-gray-300 hover:text-white"}`,children:"Phi\xean Game"})]})]}),(0,s.jsx)("div",{className:"flex items-center space-x-4",children:n&&(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsxs)("div",{className:"hidden md:block mr-4",children:[(0,s.jsx)("div",{className:"font-medium",children:n.firstName&&n.lastName?`${n.firstName} ${n.lastName}`:n.firstName||n.lastName||"Người chơi"}),(0,s.jsx)("div",{className:"text-sm text-gray-400",children:n.email})]}),(0,s.jsxs)("div",{className:"relative group",children:[(0,s.jsx)("button",{className:"w-10 h-10 rounded-full bg-gray-700 flex items-center justify-center",children:n.profilePicture?(0,s.jsx)(o.default,{src:n.profilePicture,alt:"Avatar",width:40,height:40,className:"w-full h-full rounded-full"}):(0,s.jsx)("span",{className:"text-lg font-bold",children:(n.firstName||n.lastName||"U").charAt(0).toUpperCase()})}),(0,s.jsx)("div",{className:"absolute right-0 mt-2 w-48 bg-gray-800 rounded-md shadow-lg overflow-hidden z-20 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-300",children:(0,s.jsxs)("div",{className:"py-2",children:[(0,s.jsx)(l(),{href:"/dashboard",className:"block px-4 py-2 text-sm text-gray-300 hover:bg-gray-700 hover:text-white",children:"Trang C\xe1 Nh\xe2n"}),(0,s.jsx)(l(),{href:"/game/characters",className:"block px-4 py-2 text-sm text-gray-300 hover:bg-gray-700 hover:text-white",children:"Nh\xe2n Vật Của T\xf4i"}),(0,s.jsx)(l(),{href:"/game/sessions",className:"block px-4 py-2 text-sm text-gray-300 hover:bg-gray-700 hover:text-white",children:"Phi\xean Game"}),(0,s.jsx)("hr",{className:"border-gray-700 my-1"}),(0,s.jsx)("button",{onClick:async()=>{try{await c.A.post("/auth/logout"),t.push("/")}catch(e){console.error("Logout error:",e)}},className:"block w-full text-left px-4 py-2 text-sm text-red-400 hover:bg-gray-700 hover:text-red-300",children:"Đăng Xuất"})]})})]})]})})]})})}),(0,s.jsx)("main",{className:"flex-1",children:e}),(0,s.jsx)("footer",{className:"bg-gray-800 border-t border-gray-700 py-6",children:(0,s.jsx)("div",{className:"container mx-auto px-4",children:(0,s.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[(0,s.jsxs)("div",{className:"mb-4 md:mb-0",children:[(0,s.jsx)("div",{className:"text-lg font-bold mb-1",children:"Thế Giới Phi\xeau Lưu"}),(0,s.jsx)("div",{className:"text-sm text-gray-400",children:"\xa9 2024 Tất cả quyền được bảo lưu"})]}),(0,s.jsxs)("div",{className:"flex space-x-6",children:[(0,s.jsx)(l(),{href:"/",className:"text-gray-400 hover:text-white transition-colors",children:"Trang Chủ"}),(0,s.jsx)(l(),{href:"/game",className:"text-gray-400 hover:text-white transition-colors",children:"Game"}),(0,s.jsx)(l(),{href:"/dashboard",className:"text-gray-400 hover:text-white transition-colors",children:"Trang C\xe1 Nh\xe2n"})]})]})})})]})}},22773:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,16444,23)),Promise.resolve().then(r.t.bind(r,16042,23)),Promise.resolve().then(r.t.bind(r,88170,23)),Promise.resolve().then(r.t.bind(r,49477,23)),Promise.resolve().then(r.t.bind(r,29345,23)),Promise.resolve().then(r.t.bind(r,12089,23)),Promise.resolve().then(r.t.bind(r,46577,23)),Promise.resolve().then(r.t.bind(r,31307,23))},24725:(e,t,r)=>{Promise.resolve().then(r.bind(r,22160))},29131:(e,t,r)=>{"use strict";r.d(t,{AuthProvider:()=>a});var s=r(12907);(0,s.registerClientReference)(function(){throw Error("Attempted to call useAuth() from the server but useAuth is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\my-fullstack-app\\frontend\\src\\contexts\\AuthContext.tsx","useAuth");let a=(0,s.registerClientReference)(function(){throw Error("Attempted to call AuthProvider() from the server but AuthProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\my-fullstack-app\\frontend\\src\\contexts\\AuthContext.tsx","AuthProvider")},46016:(e,t,r)=>{Promise.resolve().then(r.bind(r,13396))},55818:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\my-fullstack-app\\\\frontend\\\\src\\\\app\\\\game\\\\layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\my-fullstack-app\\frontend\\src\\app\\game\\layout.tsx","default")},61135:()=>{},64629:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,86346,23)),Promise.resolve().then(r.t.bind(r,27924,23)),Promise.resolve().then(r.t.bind(r,35656,23)),Promise.resolve().then(r.t.bind(r,40099,23)),Promise.resolve().then(r.t.bind(r,38243,23)),Promise.resolve().then(r.t.bind(r,28827,23)),Promise.resolve().then(r.t.bind(r,62763,23)),Promise.resolve().then(r.t.bind(r,97173,23))},66517:(e,t,r)=>{Promise.resolve().then(r.bind(r,55818))},70440:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(31658);let a=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},82464:(e,t,r)=>{Promise.resolve().then(r.bind(r,29131))},94431:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d,metadata:()=>c});var s=r(37413),a=r(22376),i=r.n(a),n=r(68726),l=r.n(n);r(61135);var o=r(29131);let c={title:"Create Next App",description:"Generated by create next app"};function d({children:e}){return(0,s.jsx)("html",{lang:"en",children:(0,s.jsx)("body",{className:`${i().variable} ${l().variable} antialiased`,children:(0,s.jsx)(o.AuthProvider,{children:e})})})}}};
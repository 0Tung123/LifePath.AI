exports.id=623,exports.ids=[623],exports.modules={360:(e,t,a)=>{Promise.resolve().then(a.bind(a,1227))},632:(e,t,a)=>{Promise.resolve().then(a.bind(a,3677))},1135:()=>{},1227:(e,t,a)=>{"use strict";a.d(t,{default:()=>n});var r=a(687);a(3210);var s=a(5962),o=a(6386);let n=({children:e})=>(0,r.jsx)(s.O,{children:(0,r.jsx)(o.S,{children:e})})},2581:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,6444,23)),Promise.resolve().then(a.t.bind(a,6042,23)),Promise.resolve().then(a.t.bind(a,8170,23)),Promise.resolve().then(a.t.bind(a,9477,23)),Promise.resolve().then(a.t.bind(a,9345,23)),Promise.resolve().then(a.t.bind(a,2089,23)),Promise.resolve().then(a.t.bind(a,6577,23)),Promise.resolve().then(a.t.bind(a,1307,23))},3677:(e,t,a)=>{"use strict";a.d(t,{default:()=>s});var r=a(2907);(0,r.registerClientReference)(function(){throw Error("Attempted to call AppProviders() from the server but AppProviders is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"d:\\my-fullstack-app\\frontend\\src\\providers\\AppProviders.tsx","AppProviders");let s=(0,r.registerClientReference)(function(){throw Error("Attempted to call the default export of \"d:\\\\my-fullstack-app\\\\frontend\\\\src\\\\providers\\\\AppProviders.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"d:\\my-fullstack-app\\frontend\\src\\providers\\AppProviders.tsx","default")},3721:(e,t,a)=>{"use strict";a.d(t,{ZQ:()=>s,_R:()=>o,bX:()=>n});var r=a(7327);let s={login:async e=>(await r.A.post("/auth/login",e)).data,register:async e=>(await r.A.post("/auth/register",e)).data,verifyEmail:async e=>(await r.A.get(`/auth/verify-email?token=${e}`)).data,resendVerification:async e=>(await r.A.post("/auth/resend-verification",{email:e})).data,forgotPassword:async e=>(await r.A.post("/auth/forgot-password",{email:e})).data,resetPassword:async e=>(await r.A.post("/auth/reset-password",e)).data,getCurrentUser:async()=>(await r.A.get("/user/profile")).data,logout:async()=>{localStorage.removeItem("token")},googleLogin:()=>{window.location.href="http://localhost:3000/auth/google"},handleGoogleCallback:e=>{localStorage.setItem("token",e),window.location.href="/dashboard"}};var o=function(e){return e.FANTASY="fantasy",e.MODERN="modern",e.SCIFI="scifi",e.XIANXIA="xianxia",e.WUXIA="wuxia",e.HORROR="horror",e.CYBERPUNK="cyberpunk",e.STEAMPUNK="steampunk",e.POSTAPOCALYPTIC="postapocalyptic",e.HISTORICAL="historical",e}({});let n={createCharacter:async e=>(await r.A.post("/game/characters",e)).data,generateCharacter:async e=>(await r.A.post("/game/characters/generate",e)).data,getCharacters:async()=>(await r.A.get("/game/characters")).data,getCharacterById:async e=>(await r.A.get(`/game/characters/${e}`)).data,getAvailableGenres:async()=>(await r.A.get("/game/genres")).data,startNewGame:async e=>(await r.A.post("/game/sessions",{characterId:e})).data,getGameSessions:async()=>(await r.A.get("/game/sessions")).data,getGameSession:async e=>(await r.A.get(`/game/sessions/${e}`)).data,saveGame:async e=>(await r.A.put(`/game/sessions/${e}/save`)).data,endGame:async e=>(await r.A.put(`/game/sessions/${e}/end`)).data,makeChoice:async(e,t)=>(await r.A.post(`/game/sessions/${e}/choices/${t}`)).data,processUserInput:async(e,t)=>(await r.A.post(`/game/sessions/${e}/input`,t)).data}},4431:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u,metadata:()=>c});var r=a(7413),s=a(2376),o=a.n(s),n=a(8726),i=a.n(n);a(1135);var l=a(3677);let c={title:"Create Next App",description:"Generated by create next app"};function u({children:e}){return(0,r.jsx)("html",{lang:"en",children:(0,r.jsx)("body",{className:`${o().variable} ${i().variable} antialiased`,children:(0,r.jsx)(l.default,{children:e})})})}},4437:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,6346,23)),Promise.resolve().then(a.t.bind(a,7924,23)),Promise.resolve().then(a.t.bind(a,5656,23)),Promise.resolve().then(a.t.bind(a,99,23)),Promise.resolve().then(a.t.bind(a,8243,23)),Promise.resolve().then(a.t.bind(a,8827,23)),Promise.resolve().then(a.t.bind(a,2763,23)),Promise.resolve().then(a.t.bind(a,7173,23))},5962:(e,t,a)=>{"use strict";a.d(t,{A:()=>c,O:()=>l});var r=a(687),s=a(3210),o=a(3721),n=a(9997);let i=(0,s.createContext)(void 0),l=({children:e})=>{let[t,a]=(0,s.useState)(null),[l,c]=(0,s.useState)(!0),[u,d]=(0,s.useState)(null);(0,s.useEffect)(()=>{localStorage.getItem("token")?h():c(!1);let e=new URLSearchParams(window.location.search).get("token");"/auth/google-callback"===window.location.pathname&&e&&o.ZQ.handleGoogleCallback(e)},[]);let h=async()=>{try{c(!0);let e=await o.ZQ.getCurrentUser();a(e),d(null)}catch(e){console.error("Failed to fetch user profile:",e),d("Session expired. Please login again."),localStorage.removeItem("token")}finally{c(!1)}},y=async e=>{try{c(!0);let t=await o.ZQ.login(e);localStorage.setItem("token",t.access_token),await h(),d(null)}catch(e){throw console.error("Login failed:",e),d((0,n.u)(e)),e}finally{c(!1)}},m=async e=>{try{c(!0);let t=await o.ZQ.register(e);return d(null),t.message}catch(e){throw console.error("Registration failed:",e),d((0,n.u)(e)),e}finally{c(!1)}},g=async e=>{try{c(!0);let t=await o.ZQ.verifyEmail(e);return d(null),t.message}catch(e){throw console.error("Email verification failed:",e),d((0,n.u)(e)),e}finally{c(!1)}},p=async e=>{try{c(!0);let t=await o.ZQ.resendVerification(e);return d(null),t.message}catch(e){throw console.error("Failed to resend verification email:",e),d((0,n.u)(e)),e}finally{c(!1)}},f=async e=>{try{c(!0);let t=await o.ZQ.forgotPassword(e);return d(null),t.message}catch(e){throw console.error("Failed to process forgot password request:",e),d((0,n.u)(e)),e}finally{c(!1)}},w=async e=>{try{c(!0);let t=await o.ZQ.resetPassword(e);return d(null),t.message}catch(e){throw console.error("Failed to reset password:",e),d((0,n.u)(e)),e}finally{c(!1)}};return(0,r.jsx)(i.Provider,{value:{user:t,isLoading:l,isAuthenticated:!!t&&t.isActive,error:u,login:y,register:m,logout:()=>{o.ZQ.logout(),a(null),d(null),window.location.href="/auth/login"},verifyEmail:g,resendVerification:p,forgotPassword:f,resetPassword:w,googleLogin:()=>{o.ZQ.googleLogin()}},children:e})},c=()=>{let e=(0,s.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},6386:(e,t,a)=>{"use strict";a.d(t,{I:()=>c,S:()=>l});var r=a(687),s=a(3210),o=a(3721),n=a(9997);let i=(0,s.createContext)(void 0),l=({children:e})=>{let[t,a]=(0,s.useState)([]),[l,c]=(0,s.useState)(null),[u,d]=(0,s.useState)(!1),[h,y]=(0,s.useState)([]),[m,g]=(0,s.useState)(null),[p,f]=(0,s.useState)(!1),[w,v]=(0,s.useState)(null),[b,A]=(0,s.useState)([]),[P,S]=(0,s.useState)([]),[C,x]=(0,s.useState)(null);(0,s.useEffect)(()=>{G()},[]);let k=async()=>{try{d(!0);let e=await o.bX.getCharacters();a(e),x(null)}catch(e){console.error("Failed to fetch characters:",e),x((0,n.u)(e))}finally{d(!1)}},N=async e=>{try{d(!0);let t=await o.bX.getCharacterById(e);return x(null),t}catch(t){throw console.error(`Failed to fetch character with id ${e}:`,t),x((0,n.u)(t)),t}finally{d(!1)}},I=async e=>{try{d(!0);let t=await o.bX.createCharacter(e);return a(e=>[...e,t]),x(null),t}catch(e){throw console.error("Failed to create character:",e),x((0,n.u)(e)),e}finally{d(!1)}},F=async e=>{try{d(!0);let t=await o.bX.generateCharacter(e);return a(e=>[...e,t]),x(null),t}catch(e){throw console.error("Failed to generate character:",e),x((0,n.u)(e)),e}finally{d(!1)}},G=async()=>{try{let e=await o.bX.getAvailableGenres();S(e),x(null)}catch(e){console.error("Failed to fetch genres:",e),x((0,n.u)(e))}},$=async()=>{try{f(!0);let e=await o.bX.getGameSessions();y(e),x(null)}catch(e){console.error("Failed to fetch game sessions:",e),x((0,n.u)(e))}finally{f(!1)}},X=async e=>{try{f(!0);let t=await o.bX.getGameSession(e);return g(t),t.currentStoryNode&&v(t.currentStoryNode),t.previousNodes&&A(t.previousNodes),x(null),t}catch(t){throw console.error(`Failed to fetch game session with id ${e}:`,t),x((0,n.u)(t)),t}finally{f(!1)}},E=async e=>{try{f(!0);let t=await o.bX.startNewGame(e);return g(t),t.currentStoryNode&&v(t.currentStoryNode),A([]),x(null),t}catch(e){throw console.error("Failed to start new game:",e),x((0,n.u)(e)),e}finally{f(!1)}},R=async e=>{try{f(!0);let t=await o.bX.saveGame(e);return x(null),t}catch(t){throw console.error(`Failed to save game session ${e}:`,t),x((0,n.u)(t)),t}finally{f(!1)}},Q=async e=>{try{f(!0);let t=await o.bX.endGame(e);return m&&m.id===e&&g(t),x(null),t}catch(t){throw console.error(`Failed to end game session ${e}:`,t),x((0,n.u)(t)),t}finally{f(!1)}},Z=async e=>{if(!m)return void x("No active game session");try{f(!0);let t=await o.bX.makeChoice(m.id,e);g(t),w&&A(e=>[...e,w]),t.currentStoryNode&&v(t.currentStoryNode),x(null)}catch(t){console.error(`Failed to make choice ${e}:`,t),x((0,n.u)(t))}finally{f(!1)}},j=async e=>{if(!m)return void x("No active game session");try{f(!0);let t=await o.bX.processUserInput(m.id,e);g(t),w&&A(e=>[...e,w]),t.currentStoryNode&&v(t.currentStoryNode),x(null)}catch(e){console.error("Failed to process user input:",e),x((0,n.u)(e))}finally{f(!1)}};return(0,r.jsx)(i.Provider,{value:{characters:t,selectedCharacter:l,loadingCharacters:u,gameSessions:h,currentSession:m,loadingSession:p,currentNode:w,previousNodes:b,availableGenres:P,error:C,fetchCharacters:k,fetchCharacterById:N,createCharacter:I,generateCharacter:F,fetchGenres:G,fetchGameSessions:$,fetchGameSession:X,startNewGame:E,saveGame:R,endGame:Q,makeChoice:Z,processUserInput:j,setSelectedCharacter:c,clearGameState:()=>{g(null),v(null),A([]),x(null)}},children:e})},c=()=>{let e=(0,s.useContext)(i);if(void 0===e)throw Error("useGame must be used within a GameProvider");return e}},7327:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let r=a(1060).A.create({baseURL:"http://localhost:3000",headers:{"Content-Type":"application/json"}});r.interceptors.request.use(e=>e,e=>Promise.reject(e)),r.interceptors.response.use(e=>e,e=>(e.response&&e.response.status,Promise.reject(e)));let s=r},9997:(e,t,a)=>{"use strict";a.d(t,{u:()=>s});var r=a(1060);function s(e){if(r.A.isAxiosError(e)){if(e.response){let t=e.response.data;return t.message?t.message:`Error ${e.response.status}: ${e.response.statusText}`}return e.request&&!e.response?"Network error. Please check your internet connection and try again.":e.message}return e instanceof Error?e.message:"An unknown error occurred. Please try again."}}};
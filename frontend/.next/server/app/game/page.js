(()=>{var e={};e.id=925,e.ids=[925],e.modules={440:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(1658);let a=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},970:(e,t,r)=>{Promise.resolve().then(r.bind(r,9519))},1135:()=>{},1630:e=>{"use strict";e.exports=require("http")},1820:e=>{"use strict";e.exports=require("os")},2412:e=>{"use strict";e.exports=require("assert")},2581:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6444,23)),Promise.resolve().then(r.t.bind(r,6042,23)),Promise.resolve().then(r.t.bind(r,8170,23)),Promise.resolve().then(r.t.bind(r,9477,23)),Promise.resolve().then(r.t.bind(r,9345,23)),Promise.resolve().then(r.t.bind(r,2089,23)),Promise.resolve().then(r.t.bind(r,6577,23)),Promise.resolve().then(r.t.bind(r,1307,23))},2818:(e,t,r)=>{Promise.resolve().then(r.bind(r,3486))},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3486:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"d:\\\\my-fullstack-app\\\\frontend\\\\src\\\\app\\\\game\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"d:\\my-fullstack-app\\frontend\\src\\app\\game\\page.tsx","default")},3873:e=>{"use strict";e.exports=require("path")},3997:e=>{"use strict";e.exports=require("tty")},4075:e=>{"use strict";e.exports=require("zlib")},4431:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d,metadata:()=>l});var s=r(7413),a=r(2376),n=r.n(a),i=r(8726),o=r.n(i);r(1135);let l={title:"Create Next App",description:"Generated by create next app"};function d({children:e}){return(0,s.jsx)("html",{lang:"en",children:(0,s.jsx)("body",{className:`${n().variable} ${o().variable} antialiased`,children:e})})}},4437:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6346,23)),Promise.resolve().then(r.t.bind(r,7924,23)),Promise.resolve().then(r.t.bind(r,5656,23)),Promise.resolve().then(r.t.bind(r,99,23)),Promise.resolve().then(r.t.bind(r,8243,23)),Promise.resolve().then(r.t.bind(r,8827,23)),Promise.resolve().then(r.t.bind(r,2763,23)),Promise.resolve().then(r.t.bind(r,7173,23))},4735:e=>{"use strict";e.exports=require("events")},5511:e=>{"use strict";e.exports=require("crypto")},5591:e=>{"use strict";e.exports=require("https")},6117:()=>{},6189:(e,t,r)=>{"use strict";var s=r(5773);r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})},7327:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let s=r(1060).A.create({baseURL:"http://localhost:3000",headers:{"Content-Type":"application/json"}});s.interceptors.request.use(e=>e,e=>Promise.reject(e)),s.interceptors.response.use(e=>e,e=>(e.response&&e.response.status,Promise.reject(e)));let a=s},7371:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>h,tree:()=>d});var s=r(5239),a=r(8088),n=r(8170),i=r.n(n),o=r(893),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let d={children:["",{children:["game",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,3486)),"d:\\my-fullstack-app\\frontend\\src\\app\\game\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,4431)),"d:\\my-fullstack-app\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,5284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["d:\\my-fullstack-app\\frontend\\src\\app\\game\\page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},h=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/game/page",pathname:"/game",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},7910:e=>{"use strict";e.exports=require("stream")},8354:e=>{"use strict";e.exports=require("util")},9021:e=>{"use strict";e.exports=require("fs")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9519:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var s=r(687),a=r(3210),n=r(6189),i=r(7327),o=r(5814),l=r.n(o);let d=()=>{let e=(0,n.useRouter)(),[t,r]=(0,a.useState)([]),[o,d]=(0,a.useState)([]),[c,u]=(0,a.useState)(!0),[h,m]=(0,a.useState)("");(0,a.useEffect)(()=>{(async()=>{try{u(!0);let e=await i.A.get("/game/characters");r(e.data);let t=await i.A.get("/game/sessions");d(t.data)}catch(e){console.error("Error fetching game data:",e),m("Kh\xf4ng thể tải dữ liệu game. Vui l\xf2ng thử lại sau.")}finally{u(!1)}})()},[]);let p=async t=>{try{u(!0);let r=await i.A.post("/game/sessions",{characterId:t});r.data&&r.data.id&&e.push(`/game/${r.data.id}`)}catch(e){console.error("Error starting new game:",e),m("Kh\xf4ng thể bắt đầu tr\xf2 chơi mới. Vui l\xf2ng thử lại sau."),u(!1)}},x=t=>{e.push(`/game/${t}`)};return c?(0,s.jsx)("div",{className:"flex justify-center items-center min-h-screen bg-gray-900 text-white",children:(0,s.jsx)("div",{className:"text-2xl",children:"Đang tải..."})}):(0,s.jsx)("div",{className:"min-h-screen bg-gray-900 text-white p-6",children:(0,s.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold mb-8 text-center",children:"Nhập Vai A.I Simulator"}),h&&(0,s.jsx)("div",{className:"bg-red-500 text-white p-4 rounded-md mb-6",children:h}),o.length>0&&(0,s.jsxs)("div",{className:"mb-12",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:"Phi\xean chơi đang hoạt động"}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(e=>{let r=t.find(t=>t.id===e.characterId);return(0,s.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 shadow-lg hover:bg-gray-750 transition duration-300 cursor-pointer",onClick:()=>x(e.id),children:[(0,s.jsx)("h3",{className:"text-xl font-bold mb-2",children:r?.title||"Cuộc phi\xeau lưu mới"}),(0,s.jsxs)("p",{className:"text-gray-300 mb-4",children:[r?.name," - ",r?.characterClass," Cấp ",r?.level]}),(0,s.jsxs)("p",{className:"text-sm text-gray-400",children:["Phi\xean chơi được tạo: ",new Date(e.createdAt).toLocaleDateString()]}),(0,s.jsxs)("p",{className:"text-sm text-gray-400",children:["Lưu lần cuối: ",new Date(e.lastSavedAt).toLocaleString()]}),(0,s.jsx)("button",{className:"mt-4 bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded-md transition duration-300",children:"Tiếp tục chơi"})]},e.id)})})]}),(0,s.jsxs)("div",{className:"mb-12",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold",children:"Nh\xe2n vật của bạn"}),(0,s.jsx)(l(),{href:"/game/characters/create",className:"bg-green-600 hover:bg-green-700 px-4 py-2 rounded-md transition duration-300",children:"Tạo nh\xe2n vật mới"})]}),0===t.length?(0,s.jsxs)("div",{className:"bg-gray-800 rounded-lg p-8 text-center",children:[(0,s.jsx)("p",{className:"text-xl mb-4",children:"Bạn chưa c\xf3 nh\xe2n vật n\xe0o"}),(0,s.jsx)("p",{className:"text-gray-400 mb-6",children:"H\xe3y tạo nh\xe2n vật đầu ti\xean của bạn để bắt đầu cuộc phi\xeau lưu!"}),(0,s.jsx)(l(),{href:"/game/characters/create",className:"bg-green-600 hover:bg-green-700 px-6 py-3 rounded-md transition duration-300 font-bold",children:"Tạo nh\xe2n vật"})]}):(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(e=>(0,s.jsxs)("div",{className:`bg-gray-800 rounded-lg p-6 shadow-lg ${e.isDead?"opacity-75 border border-red-800":"hover:bg-gray-750 cursor-pointer"}`,onClick:()=>!e.isDead&&p(e.id),children:[e.isDead&&(0,s.jsx)("div",{className:"absolute top-2 right-2 bg-red-800 text-white text-xs px-2 py-1 rounded",children:"Đ\xe3 hy sinh"}),(0,s.jsx)("h3",{className:"text-xl font-bold mb-2",children:e.title||e.name}),(0,s.jsxs)("p",{className:"text-gray-300 mb-4",children:[e.name," - ",e.characterClass," Cấp ",e.level]}),(0,s.jsxs)("p",{className:"text-sm text-gray-400",children:["Thể loại: ",e.primaryGenre]}),(0,s.jsxs)("p",{className:"text-sm text-gray-400",children:["Ng\xe0y tạo: ",new Date(e.createdAt).toLocaleDateString()]}),!e.isDead&&(0,s.jsx)("button",{className:"mt-4 bg-purple-600 hover:bg-purple-700 px-4 py-2 rounded-md transition duration-300",children:"Bắt đầu phi\xeau lưu mới"})]},e.id))})]}),(0,s.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 shadow-lg",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:"Links nhanh"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,s.jsx)(l(),{href:"/game/characters",className:"bg-gray-700 hover:bg-gray-600 p-4 rounded-md transition duration-300 text-center",children:"Quản l\xfd nh\xe2n vật"}),(0,s.jsx)(l(),{href:"/dashboard",className:"bg-gray-700 hover:bg-gray-600 p-4 rounded-md transition duration-300 text-center",children:"Bảng điều khiển"}),(0,s.jsx)(l(),{href:"/",className:"bg-gray-700 hover:bg-gray-600 p-4 rounded-md transition duration-300 text-center",children:"Trang chủ"})]})]})]})})}},9551:e=>{"use strict";e.exports=require("url")},9685:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[447,145,517,814],()=>r(7371));module.exports=s})();
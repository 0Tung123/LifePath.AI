(()=>{var e={};e.id=850,e.ids=[850],e.modules={440:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>a});var t=s(1658);let a=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,t.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1630:e=>{"use strict";e.exports=require("http")},1820:e=>{"use strict";e.exports=require("os")},1996:(e,r,s)=>{"use strict";s.d(r,{A:()=>a});var t=s(687);s(3210);let a=({size:e="medium",message:r="Đang tải..."})=>(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-2",children:[(0,t.jsx)("div",{className:`${{small:"w-5 h-5",medium:"w-8 h-8",large:"w-12 h-12"}[e]} animate-spin rounded-full border-b-2 border-primary`}),r&&(0,t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:r})]})},2412:e=>{"use strict";e.exports=require("assert")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3752:(e,r,s)=>{Promise.resolve().then(s.bind(s,6478))},3873:e=>{"use strict";e.exports=require("path")},3997:e=>{"use strict";e.exports=require("tty")},4075:e=>{"use strict";e.exports=require("zlib")},4735:e=>{"use strict";e.exports=require("events")},5511:e=>{"use strict";e.exports=require("crypto")},5591:e=>{"use strict";e.exports=require("https")},6189:(e,r,s)=>{"use strict";var t=s(5773);s.o(t,"useRouter")&&s.d(r,{useRouter:function(){return t.useRouter}}),s.o(t,"useSearchParams")&&s.d(r,{useSearchParams:function(){return t.useSearchParams}})},6478:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>g});var t=s(687),a=s(3210),i=s(6189),n=s(5814),l=s.n(n),d=s(6386),c=s(5962),x=s(7396),o=s(8903),m=s(1996),h=s(7745);let g=()=>{let e=(0,i.useRouter)(),{isAuthenticated:r,isLoading:s}=(0,c.A)(),{characters:n,loadingCharacters:g,error:p,fetchCharacters:u,selectedCharacter:b,setSelectedCharacter:y,startNewGame:j}=(0,d.I)(),[f,v]=(0,a.useState)(!1),[N,k]=(0,a.useState)(!1),[w,A]=(0,a.useState)(null);(0,a.useEffect)(()=>{if(!s&&!r)return void e.push("/auth/login");u()},[s,r,u,e]);let P=e=>{y(e)},_=async r=>{try{v(!0);let s=await j(r);e.push(`/game/${s.id}`)}catch(e){console.error("Failed to start game:",e)}finally{v(!1)}},C=e=>{A(e),k(!0)},R=()=>{k(!1),A(null)};return s?(0,t.jsx)("div",{className:"flex justify-center items-center min-h-screen bg-gray-900 text-white",children:(0,t.jsx)(m.A,{size:"large",message:"Đang tải..."})}):r?(0,t.jsxs)("div",{className:"min-h-screen bg-gray-900 text-white p-6",children:[(0,t.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold",children:"Nh\xe2n vật của bạn"}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)(l(),{href:"/game/characters/create",children:(0,t.jsx)(o.A,{variant:"success",leftIcon:(0,t.jsx)("svg",{className:"w-5 h-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),children:"Tạo nh\xe2n vật mới"})}),(0,t.jsx)(l(),{href:"/game",children:(0,t.jsx)(o.A,{variant:"primary",children:"Quay lại game"})})]})]}),p&&(0,t.jsx)("div",{className:"bg-red-500 text-white p-4 rounded-md mb-6",children:p}),g?(0,t.jsx)("div",{className:"flex justify-center items-center py-20",children:(0,t.jsx)(m.A,{message:"Đang tải danh s\xe1ch nh\xe2n vật..."})}):0===n.length?(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-8 text-center",children:[(0,t.jsx)("p",{className:"text-xl mb-4",children:"Bạn chưa c\xf3 nh\xe2n vật n\xe0o"}),(0,t.jsx)("p",{className:"text-gray-400 mb-6",children:"H\xe3y tạo nh\xe2n vật đầu ti\xean của bạn để bắt đầu cuộc phi\xeau lưu!"}),(0,t.jsx)(l(),{href:"/game/characters/create",children:(0,t.jsx)(o.A,{variant:"success",children:"Tạo nh\xe2n vật"})})]}):(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(e=>(0,t.jsx)("div",{className:"flex flex-col h-full",children:(0,t.jsx)(x.A,{character:e,isSelected:b?.id===e.id,onSelect:()=>{P(e),C(e)},onStartGame:()=>_(e.id)})},e.id))})]}),N&&w&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:(0,t.jsx)(h.A,{className:"max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:(0,t.jsxs)("div",{className:"p-2",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold",children:w.name}),(0,t.jsx)("button",{onClick:R,className:"text-gray-400 hover:text-gray-900 dark:hover:text-white transition duration-300",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-gray-100 dark:bg-gray-700 p-4 rounded-lg",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Th\xf4ng tin cơ bản"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"T\xean:"})," ",w.name]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Cấp độ:"})," ",w.level]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Kinh nghiệm:"})," ",w.experience," XP"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Thể loại ch\xednh:"})," ",w.primaryGenre]}),w.secondaryGenres&&w.secondaryGenres.length>0&&(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Thể loại phụ:"})," ",w.secondaryGenres.join(", ")]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Ng\xe0y tạo:"})," ",new Date(w.createdAt).toLocaleDateString()]})]})]})]}),w.description&&(0,t.jsxs)("div",{className:"bg-gray-100 dark:bg-gray-700 p-4 rounded-lg",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"M\xf4 tả"}),(0,t.jsx)("p",{children:w.description})]}),w.backstory&&(0,t.jsxs)("div",{className:"bg-gray-100 dark:bg-gray-700 p-4 rounded-lg",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Tiểu sử"}),(0,t.jsx)("p",{children:w.backstory})]}),w.traits&&w.traits.length>0&&(0,t.jsxs)("div",{className:"bg-gray-100 dark:bg-gray-700 p-4 rounded-lg",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Đặc điểm"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:w.traits.map((e,r)=>(0,t.jsx)("span",{className:"bg-gray-200 dark:bg-gray-600 px-2 py-1 rounded text-sm",children:e},r))})]}),w.abilities&&w.abilities.length>0&&(0,t.jsxs)("div",{className:"bg-gray-100 dark:bg-gray-700 p-4 rounded-lg",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Kỹ năng"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:w.abilities.map((e,r)=>(0,t.jsx)("span",{className:"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 px-2 py-1 rounded text-sm",children:e},r))})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-4 mt-6",children:[(0,t.jsx)(o.A,{variant:"primary",onClick:()=>{R(),_(w.id)},isLoading:f,children:"Bắt đầu phi\xeau lưu"}),(0,t.jsx)(o.A,{variant:"secondary",onClick:R,children:"Đ\xf3ng"})]})]})]})})})]}):(0,t.jsx)("div",{className:"min-h-screen bg-gray-900 text-white p-6",children:(0,t.jsxs)("div",{className:"max-w-2xl mx-auto bg-gray-800 p-8 rounded-lg shadow-lg",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Đăng nhập để tiếp tục"}),(0,t.jsx)("p",{className:"mb-6",children:"Bạn cần đăng nhập để xem danh s\xe1ch nh\xe2n vật."}),(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)(l(),{href:"/auth/login",className:"bg-blue-600 hover:bg-blue-700 px-6 py-3 rounded-md transition duration-300",children:"Đăng nhập"})})]})})}},6836:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>t});let t=(0,s(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"d:\\\\my-fullstack-app\\\\frontend\\\\src\\\\app\\\\game\\\\characters\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"d:\\my-fullstack-app\\frontend\\src\\app\\game\\characters\\page.tsx","default")},7396:(e,r,s)=>{"use strict";s.d(r,{A:()=>d});var t=s(687);s(3210);var a=s(3721),i=s(7745),n=s(8903);let l={[a._R.FANTASY]:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200",[a._R.MODERN]:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",[a._R.SCIFI]:"bg-cyan-100 text-cyan-800 dark:bg-cyan-900 dark:text-cyan-200",[a._R.XIANXIA]:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",[a._R.WUXIA]:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200",[a._R.HORROR]:"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200",[a._R.CYBERPUNK]:"bg-pink-100 text-pink-800 dark:bg-pink-900 dark:text-pink-200",[a._R.STEAMPUNK]:"bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-200",[a._R.POSTAPOCALYPTIC]:"bg-lime-100 text-lime-800 dark:bg-lime-900 dark:text-lime-200",[a._R.HISTORICAL]:"bg-emerald-100 text-emerald-800 dark:bg-emerald-900 dark:text-emerald-200"},d=({character:e,onSelect:r,onStartGame:s,isSelected:a=!1})=>{let d=e=>{let r=l[e]||"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200";return(0,t.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${r} mr-2 mb-2`,children:e},e)};return(0,t.jsx)(i.A,{className:`h-full transition-all ${a?"ring-2 ring-blue-500 dark:ring-blue-400":""}`,footer:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Lv. ",e.level," • XP: ",e.experience]}),(0,t.jsxs)("div",{className:"flex space-x-2",children:[r&&(0,t.jsx)(n.A,{variant:"secondary",size:"sm",onClick:r,children:a?"Đ\xe3 chọn":"Chọn"}),s&&(0,t.jsx)(n.A,{variant:"primary",size:"sm",onClick:s,children:"Bắt đầu"})]})]}),children:(0,t.jsxs)("div",{className:"flex flex-col h-full",children:[(0,t.jsx)("h4",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:e.name}),(0,t.jsxs)("div",{className:"mb-4",children:[d(e.primaryGenre),e.secondaryGenres?.map(e=>d(e))]}),(0,t.jsx)("p",{className:"text-gray-700 dark:text-gray-300 mb-4 flex-grow",children:e.description}),e.traits&&e.traits.length>0&&(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsx)("h5",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-1",children:"Đặc điểm:"}),(0,t.jsx)("div",{className:"flex flex-wrap",children:e.traits.map((e,r)=>(0,t.jsx)("span",{className:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300 px-2 py-1 rounded text-xs mr-2 mb-1",children:e},r))})]}),e.abilities&&e.abilities.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h5",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-1",children:"Kỹ năng:"}),(0,t.jsx)("div",{className:"flex flex-wrap",children:e.abilities.map((e,r)=>(0,t.jsx)("span",{className:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200 px-2 py-1 rounded text-xs mr-2 mb-1",children:e},r))})]})]})})}},7745:(e,r,s)=>{"use strict";s.d(r,{A:()=>a});var t=s(687);s(3210);let a=({title:e,children:r,className:s="",footer:a})=>(0,t.jsxs)("div",{className:`bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden ${s}`,children:[e&&(0,t.jsx)("div",{className:"border-b border-gray-200 dark:border-gray-700 px-4 py-3",children:(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:e})}),(0,t.jsx)("div",{className:"px-4 py-4",children:r}),a&&(0,t.jsx)("div",{className:"border-t border-gray-200 dark:border-gray-700 px-4 py-3",children:a})]})},7910:e=>{"use strict";e.exports=require("stream")},8354:e=>{"use strict";e.exports=require("util")},8903:(e,r,s)=>{"use strict";s.d(r,{A:()=>a});var t=s(687);s(3210);let a=({children:e,variant:r="primary",size:s="md",isLoading:a=!1,isFullWidth:i=!1,leftIcon:n,rightIcon:l,className:d="",disabled:c,...x})=>(0,t.jsx)("button",{disabled:c||a,className:`
        ${{primary:"bg-blue-600 hover:bg-blue-700 text-white",secondary:"bg-gray-500 hover:bg-gray-600 text-white",success:"bg-green-600 hover:bg-green-700 text-white",danger:"bg-red-600 hover:bg-red-700 text-white",warning:"bg-yellow-500 hover:bg-yellow-600 text-white",info:"bg-cyan-500 hover:bg-cyan-600 text-white"}[r]} 
        ${{sm:"py-1 px-2 text-sm",md:"py-2 px-4 text-base",lg:"py-2.5 px-5 text-lg"}[s]} 
        ${i?"w-full":""} 
        rounded-md font-medium transition duration-150 ease-in-out 
        focus:outline-none focus:ring-2 focus:ring-opacity-50 focus:ring-blue-500
        disabled:opacity-60 disabled:cursor-not-allowed
        ${d}
      `,...x,children:a?(0,t.jsxs)("div",{className:"flex items-center justify-center",children:[(0,t.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,t.jsx)("span",{children:"Đang xử l\xfd..."})]}):(0,t.jsxs)("div",{className:"flex items-center justify-center",children:[n&&(0,t.jsx)("span",{className:"mr-2",children:n}),e,l&&(0,t.jsx)("span",{className:"ml-2",children:l})]})})},8904:(e,r,s)=>{Promise.resolve().then(s.bind(s,6836))},9021:e=>{"use strict";e.exports=require("fs")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9551:e=>{"use strict";e.exports=require("url")},9836:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>n.a,__next_app__:()=>o,pages:()=>x,routeModule:()=>m,tree:()=>c});var t=s(5239),a=s(8088),i=s(8170),n=s.n(i),l=s(893),d={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);s.d(r,d);let c={children:["",{children:["game",{children:["characters",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,6836)),"d:\\my-fullstack-app\\frontend\\src\\app\\game\\characters\\page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,4431)),"d:\\my-fullstack-app\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,5284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,x=["d:\\my-fullstack-app\\frontend\\src\\app\\game\\characters\\page.tsx"],o={require:s,loadChunk:()=>Promise.resolve()},m=new t.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/game/characters/page",pathname:"/game/characters",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})}};var r=require("../../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[447,60,658,814,623],()=>s(9836));module.exports=t})();
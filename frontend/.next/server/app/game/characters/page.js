(()=>{var e={};e.id=850,e.ids=[850],e.modules={440:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(1658);let a=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,r.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1135:()=>{},1630:e=>{"use strict";e.exports=require("http")},1820:e=>{"use strict";e.exports=require("os")},2412:e=>{"use strict";e.exports=require("assert")},2581:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,6444,23)),Promise.resolve().then(s.t.bind(s,6042,23)),Promise.resolve().then(s.t.bind(s,8170,23)),Promise.resolve().then(s.t.bind(s,9477,23)),Promise.resolve().then(s.t.bind(s,9345,23)),Promise.resolve().then(s.t.bind(s,2089,23)),Promise.resolve().then(s.t.bind(s,6577,23)),Promise.resolve().then(s.t.bind(s,1307,23))},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3752:(e,t,s)=>{Promise.resolve().then(s.bind(s,6478))},3873:e=>{"use strict";e.exports=require("path")},3997:e=>{"use strict";e.exports=require("tty")},4075:e=>{"use strict";e.exports=require("zlib")},4431:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c,metadata:()=>d});var r=s(7413),a=s(2376),n=s.n(a),i=s(8726),l=s.n(i);s(1135);let d={title:"Create Next App",description:"Generated by create next app"};function c({children:e}){return(0,r.jsx)("html",{lang:"en",children:(0,r.jsx)("body",{className:`${n().variable} ${l().variable} antialiased`,children:e})})}},4437:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,6346,23)),Promise.resolve().then(s.t.bind(s,7924,23)),Promise.resolve().then(s.t.bind(s,5656,23)),Promise.resolve().then(s.t.bind(s,99,23)),Promise.resolve().then(s.t.bind(s,8243,23)),Promise.resolve().then(s.t.bind(s,8827,23)),Promise.resolve().then(s.t.bind(s,2763,23)),Promise.resolve().then(s.t.bind(s,7173,23))},4735:e=>{"use strict";e.exports=require("events")},5511:e=>{"use strict";e.exports=require("crypto")},5591:e=>{"use strict";e.exports=require("https")},6117:()=>{},6189:(e,t,s)=>{"use strict";var r=s(5773);s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(t,{useSearchParams:function(){return r.useSearchParams}})},6478:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var r=s(687),a=s(3210),n=s(6189),i=s(7327),l=s(5814),d=s.n(l);let c=()=>{let e=(0,n.useRouter)(),[t,s]=(0,a.useState)([]),[l,c]=(0,a.useState)(!0),[o,h]=(0,a.useState)(""),[m,p]=(0,a.useState)(null);(0,a.useEffect)(()=>{(async()=>{try{c(!0);let e=await i.A.get("/game/characters");s(e.data)}catch(e){console.error("Error fetching characters:",e),h("Kh\xf4ng thể tải danh s\xe1ch nh\xe2n vật. Vui l\xf2ng thử lại sau.")}finally{c(!1)}})()},[]);let x=async t=>{try{c(!0);let s=await i.A.post("/game/sessions",{characterId:t});s.data&&s.data.id&&e.push(`/game/${s.data.id}`)}catch(e){console.error("Error starting new game:",e),h("Kh\xf4ng thể bắt đầu tr\xf2 chơi mới. Vui l\xf2ng thử lại sau."),c(!1)}},u=e=>{p(e)},g=()=>{p(null)};return l&&0===t.length?(0,r.jsx)("div",{className:"flex justify-center items-center min-h-screen bg-gray-900 text-white",children:(0,r.jsx)("div",{className:"text-2xl",children:"Đang tải nh\xe2n vật..."})}):(0,r.jsxs)("div",{className:"min-h-screen bg-gray-900 text-white p-6",children:[(0,r.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold",children:"Nh\xe2n vật của bạn"}),(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsx)(d(),{href:"/game/characters/create",className:"bg-green-600 hover:bg-green-700 px-4 py-2 rounded-md transition duration-300",children:"Tạo nh\xe2n vật mới"}),(0,r.jsx)(d(),{href:"/game",className:"bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded-md transition duration-300",children:"Quay lại game"})]})]}),o&&(0,r.jsx)("div",{className:"bg-red-500 text-white p-4 rounded-md mb-6",children:o}),0===t.length?(0,r.jsxs)("div",{className:"bg-gray-800 rounded-lg p-8 text-center",children:[(0,r.jsx)("p",{className:"text-xl mb-4",children:"Bạn chưa c\xf3 nh\xe2n vật n\xe0o"}),(0,r.jsx)("p",{className:"text-gray-400 mb-6",children:"H\xe3y tạo nh\xe2n vật đầu ti\xean của bạn để bắt đầu cuộc phi\xeau lưu!"}),(0,r.jsx)(d(),{href:"/game/characters/create",className:"bg-green-600 hover:bg-green-700 px-6 py-3 rounded-md transition duration-300 font-bold",children:"Tạo nh\xe2n vật"})]}):(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(e=>(0,r.jsxs)("div",{className:`bg-gray-800 rounded-lg p-6 shadow-lg relative ${e.isDead?"border border-red-800":""}`,children:[e.isDead&&(0,r.jsx)("div",{className:"absolute top-2 right-2 bg-red-800 text-white text-xs px-2 py-1 rounded",children:"Đ\xe3 hy sinh"}),(0,r.jsx)("h2",{className:"text-xl font-bold mb-2",children:e.title||e.name}),(0,r.jsxs)("p",{className:"text-gray-300",children:[e.name," - ",e.characterClass," Cấp"," ",e.level]}),(0,r.jsxs)("p",{className:"text-gray-400 text-sm mt-2",children:["male"===e.gender?"Nam":"Nữ"," -"," ",e.primaryGenre]}),e.isDead?(0,r.jsxs)("div",{className:"mt-4 text-sm text-gray-400",children:[(0,r.jsxs)("p",{children:["Ng\xe0y mất:"," ",e.deathDate?new Date(e.deathDate).toLocaleDateString():"Kh\xf4ng r\xf5"]}),e.epitaph&&(0,r.jsxs)("p",{className:"italic mt-2",children:['"',e.epitaph,'"']})]}):(0,r.jsxs)("div",{className:"mt-2",children:[(0,r.jsx)("div",{className:"w-full bg-gray-700 h-2 rounded-full mt-2",children:(0,r.jsx)("div",{className:"bg-blue-500 h-full rounded-full",style:{width:`${e.experience%100}%`}})}),(0,r.jsxs)("p",{className:"text-xs text-gray-400 mt-1",children:["Kinh nghiệm: ",e.experience," XP"]})]}),(0,r.jsxs)("div",{className:"flex gap-2 mt-4",children:[(0,r.jsx)("button",{onClick:()=>u(e),className:"flex-1 bg-gray-700 hover:bg-gray-600 px-3 py-2 rounded-md transition duration-300 text-sm",children:"Chi tiết"}),!e.isDead&&(0,r.jsx)("button",{onClick:()=>x(e.id),className:"flex-1 bg-purple-600 hover:bg-purple-700 px-3 py-2 rounded-md transition duration-300 text-sm",children:"Bắt đầu game"})]})]},e.id))})]}),m&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:(0,r.jsx)("div",{className:"bg-gray-800 rounded-lg max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold",children:m.title||m.name}),(0,r.jsx)("button",{onClick:g,className:"text-gray-400 hover:text-white transition duration-300",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"bg-gray-700 p-4 rounded-lg",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Th\xf4ng tin cơ bản"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{className:"text-gray-400",children:"T\xean:"})," ",m.name]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{className:"text-gray-400",children:"Lớp:"})," ",m.characterClass]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{className:"text-gray-400",children:"Cấp độ:"})," ",m.level]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{className:"text-gray-400",children:"Giới t\xednh:"})," ","male"===m.gender?"Nam":"Nữ"]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{className:"text-gray-400",children:"Thể loại:"})," ",m.primaryGenre]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{className:"text-gray-400",children:"Ng\xe0y tạo:"})," ",new Date(m.createdAt).toLocaleDateString()]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{className:"text-gray-400",children:"Kinh nghiệm:"})," ",m.experience," XP"]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{className:"text-gray-400",children:"Trạng th\xe1i:"})," ",m.isDead?"Đ\xe3 hy sinh":"C\xf2n sống"]})]})]})]}),(m.background||m.introduction)&&(0,r.jsxs)("div",{className:"bg-gray-700 p-4 rounded-lg",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Tiểu sử"}),m.background&&(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("h4",{className:"text-sm text-gray-400",children:"Bối cảnh:"}),(0,r.jsx)("p",{className:"mt-1",children:m.background})]}),m.introduction&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-sm text-gray-400",children:"Giới thiệu:"}),(0,r.jsx)("p",{className:"mt-1",children:m.introduction})]})]}),m.isDead&&m.epitaph&&(0,r.jsxs)("div",{className:"bg-gray-700 p-4 rounded-lg",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"C\xe1o ph\xf3"}),(0,r.jsxs)("p",{className:"italic",children:['"',m.epitaph,'"']}),m.deathDate&&(0,r.jsxs)("p",{className:"text-sm text-gray-400 mt-2",children:["Ng\xe0y mất:"," ",new Date(m.deathDate).toLocaleDateString()]})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-4 mt-6",children:[!m.isDead&&(0,r.jsx)("button",{onClick:()=>{g(),x(m.id)},className:"bg-purple-600 hover:bg-purple-700 px-4 py-2 rounded-md transition duration-300",children:"Bắt đầu phi\xeau lưu"}),(0,r.jsx)("button",{onClick:g,className:"bg-gray-700 hover:bg-gray-600 px-4 py-2 rounded-md transition duration-300",children:"Đ\xf3ng"})]})]})]})})})]})}},6836:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"d:\\\\my-fullstack-app\\\\frontend\\\\src\\\\app\\\\game\\\\characters\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"d:\\my-fullstack-app\\frontend\\src\\app\\game\\characters\\page.tsx","default")},7327:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let r=s(1060).A.create({baseURL:"http://localhost:3000",headers:{"Content-Type":"application/json"}});r.interceptors.request.use(e=>e,e=>Promise.reject(e)),r.interceptors.response.use(e=>e,e=>(e.response&&e.response.status,Promise.reject(e)));let a=r},7910:e=>{"use strict";e.exports=require("stream")},8354:e=>{"use strict";e.exports=require("util")},8904:(e,t,s)=>{Promise.resolve().then(s.bind(s,6836))},9021:e=>{"use strict";e.exports=require("fs")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9551:e=>{"use strict";e.exports=require("url")},9685:()=>{},9836:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>h,pages:()=>o,routeModule:()=>m,tree:()=>c});var r=s(5239),a=s(8088),n=s(8170),i=s.n(n),l=s(893),d={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);s.d(t,d);let c={children:["",{children:["game",{children:["characters",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,6836)),"d:\\my-fullstack-app\\frontend\\src\\app\\game\\characters\\page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,4431)),"d:\\my-fullstack-app\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,5284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,o=["d:\\my-fullstack-app\\frontend\\src\\app\\game\\characters\\page.tsx"],h={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/game/characters/page",pathname:"/game/characters",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[447,145,517,814],()=>s(9836));module.exports=r})();
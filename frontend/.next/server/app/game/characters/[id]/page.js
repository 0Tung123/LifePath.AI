(()=>{var e={};e.id=384,e.ids=[384],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:e=>{"use strict";e.exports=require("assert")},12801:(e,s,t)=>{Promise.resolve().then(t.bind(t,59754))},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21820:e=>{"use strict";e.exports=require("os")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},42346:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>x,pages:()=>o,routeModule:()=>h,tree:()=>d});var r=t(65239),a=t(48088),n=t(88170),i=t.n(n),l=t(30893),c={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);t.d(s,c);let d={children:["",{children:["game",{children:["characters",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,48172)),"D:\\my-fullstack-app\\frontend\\src\\app\\game\\characters\\[id]\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,55818)),"D:\\my-fullstack-app\\frontend\\src\\app\\game\\layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,94431)),"D:\\my-fullstack-app\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,o=["D:\\my-fullstack-app\\frontend\\src\\app\\game\\characters\\[id]\\page.tsx"],x={require:t,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/game/characters/[id]/page",pathname:"/game/characters/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},48172:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\my-fullstack-app\\\\frontend\\\\src\\\\app\\\\game\\\\characters\\\\[id]\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\my-fullstack-app\\frontend\\src\\app\\game\\characters\\[id]\\page.tsx","default")},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},59754:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>x});var r=t(60687),a=t(43210),n=t(16189),i=t(51060),l=t(85814),c=t.n(l);let d={strength:"Sức mạnh",intelligence:"Tr\xed tuệ",dexterity:"Nhanh nhẹn",charisma:"Quyến rũ",health:"Sinh lực",mana:"Năng lượng",cultivation:"Tu vi",qi:"Kh\xed",perception:"Nhận thức",tech:"C\xf4ng nghệ",hacking:"Hack",piloting:"L\xe1i t\xe0u",sanity:"Tỉnh t\xe1o",willpower:"\xdd ch\xed",education:"Học vấn",wealth:"T\xe0i sản",influence:"Ảnh hưởng"},o={fantasy:"Fantasy",modern:"Hiện đại",scifi:"Khoa học viễn tưởng",xianxia:"Ti\xean Hiệp",wuxia:"V\xf5 Hiệp",horror:"Kinh dị",cyberpunk:"Cyberpunk",steampunk:"Steampunk",postapocalyptic:"Hậu tận thế",historical:"Lịch sử"};function x({params:e}){let s=(0,n.useRouter)(),{id:t}=(0,a.use)(e),[l,x]=(0,a.useState)(null),[h,m]=(0,a.useState)(!0),[p,u]=(0,a.useState)(""),[g,y]=(0,a.useState)(!1),b=async()=>{try{y(!0);let e=await i.A.post("/api/game/sessions",{characterId:t});s.push(`/game/play/${e.data.id}`)}catch(e){console.error("Error starting game:",e),u("Kh\xf4ng thể bắt đầu phi\xean game. Vui l\xf2ng thử lại sau."),y(!1)}};return h?(0,r.jsx)("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-pulse text-2xl font-bold mb-4",children:"Đang tải th\xf4ng tin nh\xe2n vật..."}),(0,r.jsx)("div",{className:"w-12 h-12 border-t-4 border-blue-500 border-solid rounded-full animate-spin mx-auto"})]})}):p?(0,r.jsx)("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-red-500 mb-4",children:"Lỗi"}),(0,r.jsx)("p",{children:p}),(0,r.jsx)(c(),{href:"/game",className:"mt-4 px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-md transition-colors inline-block",children:"Quay lại trang chủ"})]})}):l?(0,r.jsx)("div",{className:"min-h-screen bg-gray-900 text-white py-8 px-4",children:(0,r.jsxs)("div",{className:"container mx-auto",children:[(0,r.jsxs)("div",{className:"mb-8 flex justify-between items-center",children:[(0,r.jsxs)(c(),{href:"/game",className:"text-blue-400 hover:text-blue-300 transition-colors flex items-center",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"Quay lại"]}),(0,r.jsx)("button",{onClick:b,disabled:g,className:`px-6 py-3 bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700 rounded-md transition-colors flex items-center ${g?"opacity-70 cursor-wait":""}`,children:g?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Đang bắt đầu..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})}),"Bắt đầu phi\xeau lưu"]})})]}),(0,r.jsx)("div",{className:`bg-gradient-to-r ${{fantasy:"from-blue-600 to-purple-600",modern:"from-gray-600 to-blue-600",scifi:"from-cyan-500 to-blue-500",xianxia:"from-yellow-400 to-orange-500",wuxia:"from-red-500 to-pink-500",horror:"from-gray-800 to-red-900",cyberpunk:"from-purple-600 to-pink-600",steampunk:"from-amber-600 to-yellow-600",postapocalyptic:"from-green-900 to-yellow-800",historical:"from-amber-800 to-yellow-700"}[l.primaryGenre]||"from-blue-600 to-purple-600"} rounded-xl p-8 shadow-lg mb-8`,children:(0,r.jsxs)("div",{className:"flex flex-col md:flex-row justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-4xl font-bold mb-2",children:l.name}),(0,r.jsxs)("div",{className:"flex items-center mb-4",children:[(0,r.jsx)("span",{className:"text-xl",children:l.characterClass}),(0,r.jsx)("span",{className:"mx-2",children:"•"}),(0,r.jsxs)("span",{className:"bg-black/30 px-3 py-1 rounded-full text-sm",children:["Cấp ",l.level]})]}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-2 mb-4",children:[(0,r.jsx)("span",{className:"bg-white/20 px-3 py-1 rounded-full text-sm",children:o[l.primaryGenre]||l.primaryGenre}),l.secondaryGenres?.map(e=>(0,r.jsx)("span",{className:"bg-white/10 px-3 py-1 rounded-full text-sm",children:o[e]||e},e))]})]}),(0,r.jsxs)("div",{className:"mt-4 md:mt-0 flex items-center",children:[(0,r.jsxs)("div",{className:"text-center mr-6",children:[(0,r.jsx)("div",{className:"text-3xl font-bold",children:l.level}),(0,r.jsx)("div",{className:"text-xs text-gray-300",children:"Cấp độ"})]}),(0,r.jsx)("div",{className:"w-24 h-24 rounded-full bg-gray-700 border-4 border-white/20 flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-4xl font-bold",children:l.name.charAt(0)})})]})]})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,r.jsxs)("div",{className:"bg-gray-800 rounded-xl p-6 shadow-lg",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold mb-6 text-blue-400",children:"Thuộc t\xednh"}),(0,r.jsx)("div",{className:"space-y-4",children:Object.entries(l.attributes).map(([e,s])=>(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"w-1/3 text-gray-400",children:d[e]||e}),(0,r.jsxs)("div",{className:"w-2/3",children:[(0,r.jsx)("div",{className:"h-2 bg-gray-700 rounded-full overflow-hidden",children:(0,r.jsx)("div",{className:`h-full ${"health"===e?"bg-red-500":"mana"===e?"bg-blue-500":"strength"===e?"bg-orange-500":"intelligence"===e?"bg-purple-500":"dexterity"===e?"bg-green-500":"charisma"===e?"bg-pink-500":"bg-yellow-500"}`,style:{width:`${"health"===e||"mana"===e?Math.min(100,s/200*100):Math.min(100,s/20*100)}%`}})}),(0,r.jsxs)("div",{className:"flex justify-between text-xs mt-1",children:[(0,r.jsx)("span",{children:s}),(0,r.jsx)("span",{children:"health"===e||"mana"===e?"200":"20"})]})]})]},e))})]}),(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)("div",{className:"bg-gray-800 rounded-xl p-6 shadow-lg",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold mb-6 text-green-400",children:"Kỹ năng"}),l.skills&&l.skills.length>0?(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:l.skills.map(e=>(0,r.jsx)("span",{className:"bg-gray-700 px-3 py-1 rounded-full text-sm",children:e},e))}):(0,r.jsx)("p",{className:"text-gray-400",children:"Nh\xe2n vật chưa c\xf3 kỹ năng n\xe0o"})]}),(0,r.jsxs)("div",{className:"bg-gray-800 rounded-xl p-6 shadow-lg",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold mb-6 text-purple-400",children:"Khả năng đặc biệt"}),l.specialAbilities&&l.specialAbilities.length>0?(0,r.jsx)("div",{className:"space-y-4",children:l.specialAbilities.map((e,s)=>(0,r.jsxs)("div",{className:"bg-gray-700 p-4 rounded-lg",children:[(0,r.jsx)("h3",{className:"font-bold text-lg mb-1",children:e.name}),(0,r.jsx)("p",{className:"text-gray-300 text-sm mb-2",children:e.description}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-x-4 gap-y-1 text-xs text-gray-400",children:[e.cooldown&&(0,r.jsxs)("span",{children:["Hồi chi\xeau: ",e.cooldown," lượt"]}),e.cost&&(0,r.jsxs)("span",{children:["Chi ph\xed: ",e.cost.amount," ",e.cost.type]})]})]},s))}):(0,r.jsx)("p",{className:"text-gray-400",children:"Nh\xe2n vật chưa c\xf3 khả năng đặc biệt n\xe0o"})]})]}),(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)("div",{className:"bg-gray-800 rounded-xl p-6 shadow-lg",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold mb-6 text-yellow-400",children:"H\xe0nh trang"}),l.inventory&&(0,r.jsxs)(r.Fragment,{children:[l.inventory.currency&&Object.keys(l.inventory.currency).length>0&&(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("h3",{className:"text-gray-400 text-sm mb-2",children:"Tiền tệ"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-3",children:Object.entries(l.inventory.currency).map(([e,s])=>(0,r.jsxs)("div",{className:"bg-gray-700 px-3 py-1 rounded-lg flex items-center",children:[(0,r.jsx)("span",{className:"text-yellow-300 mr-1",children:"gold"===e?"\uD83D\uDCB0":"credits"===e?"\uD83D\uDCB3":"yuan"===e?"\uD83D\uDCB4":"spirit_stones"===e?"\uD83D\uDC8E":"\uD83E\uDE99"}),(0,r.jsxs)("span",{children:[s," ","gold"===e?"V\xe0ng":"credits"===e?"Credits":"yuan"===e?"Yuan":"spirit_stones"===e?"Linh thạch":e.replace("_"," ")]})]},e))})]}),l.inventory.items&&l.inventory.items.length>0?(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-gray-400 text-sm mb-2",children:"Vật phẩm"}),(0,r.jsx)("div",{className:"space-y-2",children:l.inventory.items.map(e=>(0,r.jsxs)("div",{className:"bg-gray-700 p-3 rounded-lg",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsxs)("h4",{className:"font-medium",children:[e.name,e.quantity>1&&(0,r.jsxs)("span",{className:"text-gray-400 text-sm ml-1",children:["x",e.quantity]})]}),e.rarity&&(0,r.jsx)("span",{className:`text-xs px-2 py-0.5 rounded ${"common"===e.rarity?"bg-gray-600 text-gray-300":"uncommon"===e.rarity?"bg-green-800 text-green-300":"rare"===e.rarity?"bg-blue-800 text-blue-300":"epic"===e.rarity?"bg-purple-800 text-purple-300":"legendary"===e.rarity?"bg-orange-800 text-orange-300":"bg-gray-600 text-gray-300"}`,children:"common"===e.rarity?"Thường":"uncommon"===e.rarity?"Kh\xf4ng phổ biến":"rare"===e.rarity?"Hiếm":"epic"===e.rarity?"Sử thi":"legendary"===e.rarity?"Huyền thoại":e.rarity})]}),e.description&&(0,r.jsx)("p",{className:"text-gray-400 text-sm mt-1",children:e.description}),(0,r.jsxs)("div",{className:"flex justify-between text-xs text-gray-400 mt-1",children:[e.type&&(0,r.jsx)("span",{children:e.type}),e.value&&(0,r.jsxs)("span",{children:[e.value," v\xe0ng"]})]})]},e.id))})]}):(0,r.jsx)("p",{className:"text-gray-400",children:"H\xe0nh trang trống"})]})]}),(0,r.jsxs)("div",{className:"bg-gray-800 rounded-xl p-6 shadow-lg",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold mb-6 text-pink-400",children:"Tiểu sử"}),l.backstory?(0,r.jsx)("p",{className:"text-gray-300 whitespace-pre-line",children:l.backstory}):(0,r.jsx)("p",{className:"text-gray-400",children:"Chưa c\xf3 th\xf4ng tin về tiểu sử"})]})]})]})]})}):(0,r.jsx)("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-2xl font-bold mb-4",children:"Kh\xf4ng t\xecm thấy nh\xe2n vật"}),(0,r.jsx)(c(),{href:"/game",className:"mt-4 px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-md transition-colors inline-block",children:"Quay lại trang chủ"})]})})}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},74075:e=>{"use strict";e.exports=require("zlib")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},83997:e=>{"use strict";e.exports=require("tty")},94735:e=>{"use strict";e.exports=require("events")},99649:(e,s,t)=>{Promise.resolve().then(t.bind(t,48172))}};var s=require("../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[447,145,567,560,474,712],()=>t(42346));module.exports=r})();
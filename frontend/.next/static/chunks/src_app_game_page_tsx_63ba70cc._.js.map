{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///D:/my-fullstack-app/frontend/src/app/game/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport axios from \"axios\";\nimport Link from \"next/link\";\n\n// Type definitions\ninterface Character {\n  id: string;\n  name: string;\n  characterClass: string;\n  level: number;\n  primaryGenre: string;\n}\n\ninterface GameSession {\n  id: string;\n  startedAt: string;\n  character?: Character;\n}\n\nexport default function GameHomePage() {\n  const router = useRouter();\n  const [activeSessions, setActiveSessions] = useState<GameSession[]>([]);\n  const [characters, setCharacters] = useState<Character[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(\"\");\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n        // Fetch active game sessions\n        const sessionsResponse = await axios.get(\"/api/game/sessions\");\n        setActiveSessions(sessionsResponse.data);\n\n        // Fetch characters\n        const charactersResponse = await axios.get(\"/api/game/characters\");\n        setCharacters(charactersResponse.data);\n\n        setLoading(false);\n      } catch (err) {\n        console.error(\"Error fetching data:\", err);\n        setError(\"Failed to load game data. Please try again later.\");\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, []);\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gray-900 text-white flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-pulse text-4xl font-bold mb-4\">\n            Đang tải thế giới...\n          </div>\n          <div className=\"w-16 h-16 border-t-4 border-blue-500 border-solid rounded-full animate-spin mx-auto\"></div>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"min-h-screen bg-gray-900 text-white flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"text-2xl font-bold text-red-500 mb-4\">Lỗi</div>\n          <p>{error}</p>\n          <button\n            onClick={() => window.location.reload()}\n            className=\"mt-4 px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-md transition-colors\"\n          >\n            Thử lại\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-900 text-white\">\n      {/* Hero Section */}\n      <div className=\"relative h-[50vh] flex items-center justify-center overflow-hidden\">\n        <div className=\"absolute inset-0 bg-gradient-to-b from-transparent to-gray-900 z-10\"></div>\n        <div className=\"absolute inset-0 bg-[url('/images/game-hero.jpg')] bg-cover bg-center\"></div>\n        <div className=\"relative z-20 text-center px-4\">\n          <h1 className=\"text-5xl md:text-7xl font-bold mb-4 text-shadow-lg\">\n            Thế Giới Phiêu Lưu\n          </h1>\n          <p className=\"text-xl md:text-2xl max-w-2xl mx-auto\">\n            Bước vào cuộc hành trình kỳ diệu, nơi mỗi lựa chọn định hình số phận\n            của bạn\n          </p>\n        </div>\n      </div>\n\n      {/* Main Content */}\n      <div className=\"container mx-auto px-4 py-12\">\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-12\">\n          {/* Active Sessions */}\n          <div className=\"bg-gray-800 rounded-xl p-6 shadow-lg transform transition-all hover:scale-[1.02]\">\n            <h2 className=\"text-3xl font-bold mb-6 text-blue-400\">\n              Phiên Game Đang Hoạt Động\n            </h2>\n\n            {activeSessions.length > 0 ? (\n              <div className=\"space-y-4\">\n                {activeSessions.map((session) => (\n                  <div\n                    key={session.id}\n                    className=\"bg-gray-700 rounded-lg p-4 hover:bg-gray-600 transition-colors\"\n                  >\n                    <div className=\"flex justify-between items-center\">\n                      <div>\n                        <h3 className=\"text-xl font-semibold\">\n                          {session.character?.name || \"Nhân vật không xác định\"}\n                        </h3>\n                        <p className=\"text-gray-300\">\n                          Bắt đầu:{\" \"}\n                          {new Date(session.startedAt).toLocaleString()}\n                        </p>\n                      </div>\n                      <Link\n                        href={`/game/play/${session.id}`}\n                        className=\"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-md transition-colors\"\n                      >\n                        Tiếp tục\n                      </Link>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            ) : (\n              <div className=\"text-center py-8\">\n                <p className=\"text-gray-400 mb-4\">\n                  Bạn chưa có phiên game nào đang hoạt động\n                </p>\n                <p className=\"text-gray-300\">\n                  Hãy tạo nhân vật và bắt đầu cuộc phiêu lưu mới!\n                </p>\n              </div>\n            )}\n          </div>\n\n          {/* Characters */}\n          <div className=\"bg-gray-800 rounded-xl p-6 shadow-lg transform transition-all hover:scale-[1.02]\">\n            <h2 className=\"text-3xl font-bold mb-6 text-green-400\">\n              Nhân Vật Của Bạn\n            </h2>\n\n            {characters.length > 0 ? (\n              <div className=\"space-y-4\">\n                {characters.map((character) => (\n                  <div\n                    key={character.id}\n                    className=\"bg-gray-700 rounded-lg p-4 hover:bg-gray-600 transition-colors\"\n                  >\n                    <div className=\"flex justify-between items-center\">\n                      <div>\n                        <h3 className=\"text-xl font-semibold\">\n                          {character.name}\n                        </h3>\n                        <p className=\"text-gray-300\">\n                          {character.characterClass} - Cấp {character.level}\n                        </p>\n                        <p className=\"text-gray-400\">\n                          {character.primaryGenre}\n                        </p>\n                      </div>\n                      <div className=\"flex space-x-2\">\n                        <Link\n                          href={`/game/characters/${character.id}`}\n                          className=\"px-3 py-1 bg-green-600 hover:bg-green-700 rounded-md transition-colors\"\n                        >\n                          Chi tiết\n                        </Link>\n                        <button\n                          onClick={async () => {\n                            try {\n                              const response = await axios.post(\n                                \"/api/game/sessions\",\n                                { characterId: character.id }\n                              );\n                              router.push(`/game/play/${response.data.id}`);\n                            } catch (err) {\n                              console.error(\"Error starting game:\", err);\n                              setError(\n                                \"Failed to start game. Please try again.\"\n                              );\n                            }\n                          }}\n                          className=\"px-3 py-1 bg-purple-600 hover:bg-purple-700 rounded-md transition-colors\"\n                        >\n                          Bắt đầu\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            ) : (\n              <div className=\"text-center py-8\">\n                <p className=\"text-gray-400 mb-4\">Bạn chưa có nhân vật nào</p>\n                <Link\n                  href=\"/game/characters/create\"\n                  className=\"px-4 py-2 bg-green-600 hover:bg-green-700 rounded-md transition-colors inline-block\"\n                >\n                  Tạo nhân vật mới\n                </Link>\n              </div>\n            )}\n\n            {characters.length > 0 && (\n              <div className=\"mt-6 text-center\">\n                <Link\n                  href=\"/game/characters/create\"\n                  className=\"px-4 py-2 bg-green-600 hover:bg-green-700 rounded-md transition-colors inline-block\"\n                >\n                  Tạo nhân vật mới\n                </Link>\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* Game Genres */}\n        <div className=\"mt-16\">\n          <h2 className=\"text-3xl font-bold mb-8 text-center\">\n            Khám Phá Các Thế Giới\n          </h2>\n\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-6\">\n            {[\n              {\n                id: \"fantasy\",\n                name: \"Fantasy\",\n                description:\n                  \"Thế giới với phép thuật, hiệp sĩ, rồng và sinh vật huyền bí\",\n                color: \"from-blue-600 to-purple-600\",\n              },\n              {\n                id: \"scifi\",\n                name: \"Sci-Fi\",\n                description:\n                  \"Thế giới tương lai với công nghệ tiên tiến, du hành vũ trụ\",\n                color: \"from-cyan-500 to-blue-500\",\n              },\n              {\n                id: \"xianxia\",\n                name: \"Tiên Hiệp\",\n                description:\n                  \"Thế giới tu tiên, trau dồi linh khí, thăng cấp cảnh giới\",\n                color: \"from-yellow-400 to-orange-500\",\n              },\n              {\n                id: \"wuxia\",\n                name: \"Võ Hiệp\",\n                description: \"Thế giới võ thuật, giang hồ, kiếm hiệp\",\n                color: \"from-red-500 to-pink-500\",\n              },\n              {\n                id: \"cyberpunk\",\n                name: \"Cyberpunk\",\n                description: \"Thế giới tương lai đen tối với công nghệ cao\",\n                color: \"from-purple-600 to-pink-600\",\n              },\n            ].map((genre) => (\n              <div\n                key={genre.id}\n                className=\"relative group overflow-hidden rounded-xl h-64 shadow-lg\"\n              >\n                <div\n                  className={`absolute inset-0 bg-gradient-to-br ${genre.color} opacity-75 group-hover:opacity-90 transition-opacity`}\n                ></div>\n                <div className=\"absolute inset-0 flex flex-col justify-end p-6 text-white\">\n                  <h3 className=\"text-2xl font-bold mb-2\">{genre.name}</h3>\n                  <p className=\"text-sm opacity-0 group-hover:opacity-100 transition-opacity duration-300\">\n                    {genre.description}\n                  </p>\n                  <Link\n                    href={`/game/characters/create?genre=${genre.id}`}\n                    className=\"mt-4 px-3 py-1 bg-white text-gray-900 rounded-md opacity-0 group-hover:opacity-100 transition-opacity duration-300 text-center text-sm font-medium\"\n                  >\n                    Tạo nhân vật\n                  </Link>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}
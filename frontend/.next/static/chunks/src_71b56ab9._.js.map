{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///D:/my-fullstack-app/frontend/src/utils/api.ts"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst api = axios.create({\r\n  baseURL: process.env.NEXT_PUBLIC_API_URL,\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n});\r\n\r\n// Add a request interceptor to add the auth token to every request\r\napi.interceptors.request.use(\r\n  (config) => {\r\n    // Check if we're in a browser environment\r\n    if (typeof window !== 'undefined') {\r\n      const token = localStorage.getItem('token');\r\n      if (token) {\r\n        config.headers.Authorization = `Bearer ${token}`;\r\n      }\r\n    }\r\n    return config;\r\n  },\r\n  (error) => {\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// Add a response interceptor to handle token expiration\r\napi.interceptors.response.use(\r\n  (response) => {\r\n    return response;\r\n  },\r\n  (error) => {\r\n    // Handle 401 responses (unauthorized)\r\n    if (error.response && error.response.status === 401) {\r\n      // Check if we're in a browser environment\r\n      if (typeof window !== 'undefined') {\r\n        // Clear the token\r\n        localStorage.removeItem('token');\r\n        \r\n        // Redirect to login page if not already there\r\n        if (!window.location.pathname.includes('/auth/login')) {\r\n          window.location.href = '/auth/login';\r\n        }\r\n      }\r\n    }\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nexport default api;\r\n"],"names":[],"mappings":";;;AAGW;AAHX;;AAEA,MAAM,MAAM,wIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IACvB,OAAO;IACP,SAAS;QACP,gBAAgB;IAClB;AACF;AAEA,mEAAmE;AACnE,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAC1B,CAAC;IACC,0CAA0C;IAC1C,wCAAmC;QACjC,MAAM,QAAQ,aAAa,OAAO,CAAC;QACnC,IAAI,OAAO;YACT,OAAO,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO;QAClD;IACF;IACA,OAAO;AACT,GACA,CAAC;IACC,OAAO,QAAQ,MAAM,CAAC;AACxB;AAGF,wDAAwD;AACxD,IAAI,YAAY,CAAC,QAAQ,CAAC,GAAG,CAC3B,CAAC;IACC,OAAO;AACT,GACA,CAAC;IACC,sCAAsC;IACtC,IAAI,MAAM,QAAQ,IAAI,MAAM,QAAQ,CAAC,MAAM,KAAK,KAAK;QACnD,0CAA0C;QAC1C,wCAAmC;YACjC,kBAAkB;YAClB,aAAa,UAAU,CAAC;YAExB,8CAA8C;YAC9C,IAAI,CAAC,OAAO,QAAQ,CAAC,QAAQ,CAAC,QAAQ,CAAC,gBAAgB;gBACrD,OAAO,QAAQ,CAAC,IAAI,GAAG;YACzB;QACF;IACF;IACA,OAAO,QAAQ,MAAM,CAAC;AACxB;uCAGa","debugId":null}},
    {"offset": {"line": 60, "column": 0}, "map": {"version":3,"sources":["file:///D:/my-fullstack-app/frontend/src/app/auth/register/page.tsx"],"sourcesContent":["\"use client\";\nimport { useState } from \"react\";\nimport Link from \"next/link\";\nimport { useRouter } from \"next/navigation\";\nimport api from \"@/utils/api\";\n\nexport default function Register() {\n  const router = useRouter();\n  const [formData, setFormData] = useState({\n    firstName: \"\",\n    lastName: \"\",\n    email: \"\",\n    password: \"\",\n    confirmPassword: \"\",\n  });\n  const [error, setError] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const { name, value } = e.target;\n    setFormData((prev) => ({\n      ...prev,\n      [name]: value,\n    }));\n  };\n\n  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    setError(\"\");\n\n    // Validate passwords match\n    if (formData.password !== formData.confirmPassword) {\n      setError(\"Passwords do not match\");\n      return;\n    }\n\n    setIsLoading(true);\n\n    try {\n      // Validate the confirmPassword one more time and log it\n      const { confirmPassword, ...dataToSend } = formData;\n      // Using confirmPassword for validation before removing from request payload\n      if (confirmPassword !== formData.password) {\n        throw new Error(\"Passwords do not match\");\n      }\n\n      await api.post(\"/auth/register\", dataToSend);\n      router.push(\"/auth/check-email\");\n    } catch (err: unknown) {\n      console.error(\"Registration error:\", err);\n\n      // If it's a custom error we threw ourselves\n      if (err instanceof Error) {\n        setError(err.message);\n      }\n      // If it's an API response error\n      else if (typeof err === \"object\" && err !== null && \"response\" in err) {\n        const apiError = err as {\n          response?: {\n            data?: {\n              message?: string | string[];\n            };\n          };\n        };\n\n        if (apiError.response?.data?.message) {\n          setError(\n            Array.isArray(apiError.response.data.message)\n              ? apiError.response.data.message[0]\n              : apiError.response.data.message\n          );\n        } else {\n          setError(\"Failed to register. Please try again later.\");\n        }\n      } else {\n        setError(\"An unexpected error occurred. Please try again.\");\n      }\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleGoogleLogin = () => {\n    window.location.href = `${process.env.NEXT_PUBLIC_API_URL}/auth/google`;\n  };\n\n  return (\n    <div className=\"min-h-screen flex flex-col justify-center items-center bg-gradient-to-b from-gray-900 to-gray-800 px-4 py-12\">\n      <div className=\"w-full max-w-md bg-gray-800 border border-gray-700 rounded-xl shadow-xl p-8\">\n        <div className=\"text-center mb-8\">\n          <h2 className=\"text-3xl font-bold text-white\">Create Your Account</h2>\n          <p className=\"mt-2 text-gray-400\">Join the AI revolution today</p>\n        </div>\n\n        {error && (\n          <div className=\"mb-6 p-3 bg-red-900/50 border border-red-500 rounded-md text-red-200 text-sm\">\n            {error}\n          </div>\n        )}\n\n        <form onSubmit={handleSubmit} className=\"space-y-5\">\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div>\n              <label\n                htmlFor=\"firstName\"\n                className=\"block text-sm font-medium text-gray-300 mb-1\"\n              >\n                First Name\n              </label>\n              <input\n                id=\"firstName\"\n                name=\"firstName\"\n                type=\"text\"\n                autoComplete=\"given-name\"\n                required\n                value={formData.firstName}\n                onChange={handleChange}\n                className=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 rounded-lg text-white\"\n                placeholder=\"First name\"\n              />\n            </div>\n            <div>\n              <label\n                htmlFor=\"lastName\"\n                className=\"block text-sm font-medium text-gray-300 mb-1\"\n              >\n                Last Name\n              </label>\n              <input\n                id=\"lastName\"\n                name=\"lastName\"\n                type=\"text\"\n                autoComplete=\"family-name\"\n                required\n                value={formData.lastName}\n                onChange={handleChange}\n                className=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 rounded-lg text-white\"\n                placeholder=\"Last name\"\n              />\n            </div>\n          </div>\n\n          <div>\n            <label\n              htmlFor=\"email\"\n              className=\"block text-sm font-medium text-gray-300 mb-1\"\n            >\n              Email Address\n            </label>\n            <input\n              id=\"email\"\n              name=\"email\"\n              type=\"email\"\n              autoComplete=\"email\"\n              required\n              value={formData.email}\n              onChange={handleChange}\n              className=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 rounded-lg text-white\"\n              placeholder=\"you@example.com\"\n            />\n          </div>\n\n          <div>\n            <label\n              htmlFor=\"password\"\n              className=\"block text-sm font-medium text-gray-300 mb-1\"\n            >\n              Password\n            </label>\n            <input\n              id=\"password\"\n              name=\"password\"\n              type=\"password\"\n              autoComplete=\"new-password\"\n              required\n              value={formData.password}\n              onChange={handleChange}\n              className=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 rounded-lg text-white\"\n              placeholder=\"Create a password\"\n            />\n          </div>\n\n          <div>\n            <label\n              htmlFor=\"confirmPassword\"\n              className=\"block text-sm font-medium text-gray-300 mb-1\"\n            >\n              Confirm Password\n            </label>\n            <input\n              id=\"confirmPassword\"\n              name=\"confirmPassword\"\n              type=\"password\"\n              autoComplete=\"new-password\"\n              required\n              value={formData.confirmPassword}\n              onChange={handleChange}\n              className=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 rounded-lg text-white\"\n              placeholder=\"Confirm your password\"\n            />\n          </div>\n\n          <div>\n            <button\n              type=\"submit\"\n              disabled={isLoading}\n              className=\"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white rounded-lg px-4 py-3 font-medium flex items-center justify-center\"\n            >\n              {isLoading ? (\n                <svg\n                  className=\"animate-spin -ml-1 mr-2 h-4 w-4 text-white\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  fill=\"none\"\n                  viewBox=\"0 0 24 24\"\n                >\n                  <circle\n                    className=\"opacity-25\"\n                    cx=\"12\"\n                    cy=\"12\"\n                    r=\"10\"\n                    stroke=\"currentColor\"\n                    strokeWidth=\"4\"\n                  ></circle>\n                  <path\n                    className=\"opacity-75\"\n                    fill=\"currentColor\"\n                    d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n                  ></path>\n                </svg>\n              ) : null}\n              Create Account\n            </button>\n          </div>\n        </form>\n\n        <div className=\"mt-6\">\n          <div className=\"relative\">\n            <div className=\"absolute inset-0 flex items-center\">\n              <div className=\"w-full border-t border-gray-600\"></div>\n            </div>\n            <div className=\"relative flex justify-center text-sm\">\n              <span className=\"px-2 bg-gray-800 text-gray-400\">\n                Or continue with\n              </span>\n            </div>\n          </div>\n\n          <div className=\"mt-6\">\n            <button\n              onClick={handleGoogleLogin}\n              className=\"w-full flex justify-center items-center gap-3 bg-gray-700 hover:bg-gray-600 text-white rounded-lg px-4 py-3 font-medium\"\n            >\n              <svg className=\"h-5 w-5\" viewBox=\"0 0 24 24\">\n                <path\n                  fill=\"currentColor\"\n                  d=\"M12.545,10.239v3.821h5.445c-0.712,2.315-2.647,3.972-5.445,3.972c-3.332,0-6.033-2.701-6.033-6.032s2.701-6.032,6.033-6.032c1.498,0,2.866,0.549,3.921,1.453l2.814-2.814C17.503,2.988,15.139,2,12.545,2C7.021,2,2.543,6.477,2.543,12s4.478,10,10.002,10c8.396,0,10.249-7.85,9.426-11.748L12.545,10.239z\"\n                />\n              </svg>\n              Sign up with Google\n            </button>\n          </div>\n        </div>\n\n        <p className=\"mt-8 text-center text-sm text-gray-400\">\n          Already have an account?{\" \"}\n          <Link\n            href=\"/auth/login\"\n            className=\"text-blue-400 hover:text-blue-300 font-medium\"\n          >\n            Sign in\n          </Link>\n        </p>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}
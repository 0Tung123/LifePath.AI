(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[270],{1128:(e,r,t)=>{Promise.resolve().then(t.bind(t,1392))},1392:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>d});var s=t(5155),i=t(2115),n=t(6874),l=t.n(n),a=t(5695),o=t(2302);function c(){let e=(0,a.useSearchParams)(),[r,t]=(0,i.useState)("loading"),[n,c]=(0,i.useState)("");(0,i.useEffect)(()=>{let r=e.get("token");r?d(r):(t("error"),c("Verification token is missing. Please use the link from your email."))},[e]);let d=async e=>{try{await o.A.get("/auth/verify-email?token=".concat(e)),t("success")}catch(e){if(console.error("Email verification error:",e),t("error"),"object"==typeof e&&null!==e&&"response"in e){var r,s;(null==(s=e.response)||null==(r=s.data)?void 0:r.message)?c(e.response.data.message):c("Failed to verify your email. The link may have expired.")}else c("Failed to verify your email. The link may have expired.")}},u=async()=>{try{window.location.href="/auth/resend-verification"}catch(e){console.error("Resend verification error:",e)}};return(0,s.jsx)("div",{className:"min-h-screen flex flex-col justify-center items-center bg-gradient-to-b from-gray-900 to-gray-800 px-4",children:(0,s.jsxs)("div",{className:"w-full max-w-md bg-gray-800 border border-gray-700 rounded-xl shadow-xl p-8 text-center",children:["loading"===r&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-blue-900/30 mb-6",children:(0,s.jsxs)("svg",{className:"animate-spin w-8 h-8 text-blue-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),(0,s.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Verifying Your Email"}),(0,s.jsx)("p",{className:"text-gray-400",children:"Please wait while we verify your email address..."})]}),"success"===r&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-green-900/30 mb-6",children:(0,s.jsx)("svg",{className:"w-8 h-8 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),(0,s.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Email Verified!"}),(0,s.jsx)("p",{className:"text-gray-400 mb-6",children:"Your email has been successfully verified. You can now sign in to your account."}),(0,s.jsx)(l(),{href:"/auth/login",className:"inline-block bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white rounded-lg px-6 py-2 font-medium",children:"Sign In"})]}),"error"===r&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-red-900/30 mb-6",children:(0,s.jsx)("svg",{className:"w-8 h-8 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),(0,s.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Verification Failed"}),(0,s.jsx)("p",{className:"text-red-400 mb-4",children:n}),(0,s.jsx)("p",{className:"text-gray-400 mb-6",children:"The verification link may have expired or is invalid. Please try requesting a new verification email."}),(0,s.jsx)("button",{onClick:u,className:"inline-block bg-gray-700 hover:bg-gray-600 text-white rounded-lg px-6 py-2 font-medium",children:"Resend Verification Email"})]})]})})}function d(){return(0,s.jsx)(i.Suspense,{fallback:(0,s.jsx)("div",{className:"min-h-screen flex flex-col justify-center items-center bg-gradient-to-b from-gray-900 to-gray-800 px-4",children:(0,s.jsxs)("div",{className:"w-full max-w-md bg-gray-800 border border-gray-700 rounded-xl shadow-xl p-8 text-center",children:[(0,s.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-blue-900/30 mb-6",children:(0,s.jsxs)("svg",{className:"animate-spin w-8 h-8 text-blue-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),(0,s.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Loading..."}),(0,s.jsx)("p",{className:"text-gray-400",children:"Please wait while we process your request..."})]})}),children:(0,s.jsx)(c,{})})}},2302:(e,r,t)=>{"use strict";t.d(r,{A:()=>i});let s=t(3464).A.create({baseURL:"http://localhost:3000",headers:{"Content-Type":"application/json"}});s.interceptors.request.use(e=>{{let r=localStorage.getItem("token");r&&(e.headers.Authorization="Bearer ".concat(r))}return e},e=>Promise.reject(e)),s.interceptors.response.use(e=>e,e=>(e.response&&401===e.response.status&&(localStorage.removeItem("token"),window.location.pathname.includes("/auth/login")||(window.location.href="/auth/login")),Promise.reject(e)));let i=s},5695:(e,r,t)=>{"use strict";var s=t(8999);t.o(s,"useRouter")&&t.d(r,{useRouter:function(){return s.useRouter}}),t.o(s,"useSearchParams")&&t.d(r,{useSearchParams:function(){return s.useSearchParams}})}},e=>{var r=r=>e(e.s=r);e.O(0,[464,874,441,684,358],()=>r(1128)),_N_E=e.O()}]);
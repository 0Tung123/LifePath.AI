(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[384],{1418:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>x});var a=t(5155),l=t(2115),n=t(5695),r=t(3464),i=t(6874),c=t.n(i);let d={strength:"Sức mạnh",intelligence:"Tr\xed tuệ",dexterity:"Nhanh nhẹn",charisma:"Quyến rũ",health:"Sinh lực",mana:"Năng lượng",cultivation:"Tu vi",qi:"Kh\xed",perception:"Nhận thức",tech:"C\xf4ng nghệ",hacking:"Hack",piloting:"L\xe1i t\xe0u",sanity:"Tỉnh t\xe1o",willpower:"\xdd ch\xed",education:"Học vấn",wealth:"T\xe0i sản",influence:"Ảnh hưởng"},h={fantasy:"Fantasy",modern:"Hiện đại",scifi:"Khoa học viễn tưởng",xianxia:"Ti\xean Hiệp",wuxia:"V\xf5 Hiệp",horror:"Kinh dị",cyberpunk:"Cyberpunk",steampunk:"Steampunk",postapocalyptic:"Hậu tận thế",historical:"Lịch sử"};function x(e){var s;let{params:t}=e,i=(0,n.useRouter)(),{id:x}=(0,l.use)(t),[o,m]=(0,l.useState)(null),[g,p]=(0,l.useState)(!0),[u,y]=(0,l.useState)(""),[b,j]=(0,l.useState)(!1);(0,l.useEffect)(()=>{let e=async()=>{try{p(!0);let e=await r.A.get("/api/game/characters/".concat(x));m(e.data),p(!1)}catch(e){console.error("Error fetching character:",e),y("Kh\xf4ng thể tải th\xf4ng tin nh\xe2n vật. Vui l\xf2ng thử lại sau."),p(!1)}};x&&e()},[x]);let v=async()=>{try{j(!0);let e=await r.A.post("/api/game/sessions",{characterId:x});i.push("/game/play/".concat(e.data.id))}catch(e){console.error("Error starting game:",e),y("Kh\xf4ng thể bắt đầu phi\xean game. Vui l\xf2ng thử lại sau."),j(!1)}};return g?(0,a.jsx)("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-pulse text-2xl font-bold mb-4",children:"Đang tải th\xf4ng tin nh\xe2n vật..."}),(0,a.jsx)("div",{className:"w-12 h-12 border-t-4 border-blue-500 border-solid rounded-full animate-spin mx-auto"})]})}):u?(0,a.jsx)("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-red-500 mb-4",children:"Lỗi"}),(0,a.jsx)("p",{children:u}),(0,a.jsx)(c(),{href:"/game",className:"mt-4 px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-md transition-colors inline-block",children:"Quay lại trang chủ"})]})}):o?(0,a.jsx)("div",{className:"min-h-screen bg-gray-900 text-white py-8 px-4",children:(0,a.jsxs)("div",{className:"container mx-auto",children:[(0,a.jsxs)("div",{className:"mb-8 flex justify-between items-center",children:[(0,a.jsxs)(c(),{href:"/game",className:"text-blue-400 hover:text-blue-300 transition-colors flex items-center",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"Quay lại"]}),(0,a.jsx)("button",{onClick:v,disabled:b,className:"px-6 py-3 bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700 rounded-md transition-colors flex items-center ".concat(b?"opacity-70 cursor-wait":""),children:b?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Đang bắt đầu..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})}),"Bắt đầu phi\xeau lưu"]})})]}),(0,a.jsx)("div",{className:"bg-gradient-to-r ".concat({fantasy:"from-blue-600 to-purple-600",modern:"from-gray-600 to-blue-600",scifi:"from-cyan-500 to-blue-500",xianxia:"from-yellow-400 to-orange-500",wuxia:"from-red-500 to-pink-500",horror:"from-gray-800 to-red-900",cyberpunk:"from-purple-600 to-pink-600",steampunk:"from-amber-600 to-yellow-600",postapocalyptic:"from-green-900 to-yellow-800",historical:"from-amber-800 to-yellow-700"}[o.primaryGenre]||"from-blue-600 to-purple-600"," rounded-xl p-8 shadow-lg mb-8"),children:(0,a.jsxs)("div",{className:"flex flex-col md:flex-row justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-4xl font-bold mb-2",children:o.name}),(0,a.jsxs)("div",{className:"flex items-center mb-4",children:[(0,a.jsx)("span",{className:"text-xl",children:o.characterClass}),(0,a.jsx)("span",{className:"mx-2",children:"•"}),(0,a.jsxs)("span",{className:"bg-black/30 px-3 py-1 rounded-full text-sm",children:["Cấp ",o.level]})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2 mb-4",children:[(0,a.jsx)("span",{className:"bg-white/20 px-3 py-1 rounded-full text-sm",children:h[o.primaryGenre]||o.primaryGenre}),null==(s=o.secondaryGenres)?void 0:s.map(e=>(0,a.jsx)("span",{className:"bg-white/10 px-3 py-1 rounded-full text-sm",children:h[e]||e},e))]})]}),(0,a.jsxs)("div",{className:"mt-4 md:mt-0 flex items-center",children:[(0,a.jsxs)("div",{className:"text-center mr-6",children:[(0,a.jsx)("div",{className:"text-3xl font-bold",children:o.level}),(0,a.jsx)("div",{className:"text-xs text-gray-300",children:"Cấp độ"})]}),(0,a.jsx)("div",{className:"w-24 h-24 rounded-full bg-gray-700 border-4 border-white/20 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-4xl font-bold",children:o.name.charAt(0)})})]})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,a.jsxs)("div",{className:"bg-gray-800 rounded-xl p-6 shadow-lg",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-6 text-blue-400",children:"Thuộc t\xednh"}),(0,a.jsx)("div",{className:"space-y-4",children:Object.entries(o.attributes).map(e=>{let[s,t]=e;return(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-1/3 text-gray-400",children:d[s]||s}),(0,a.jsxs)("div",{className:"w-2/3",children:[(0,a.jsx)("div",{className:"h-2 bg-gray-700 rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full ".concat("health"===s?"bg-red-500":"mana"===s?"bg-blue-500":"strength"===s?"bg-orange-500":"intelligence"===s?"bg-purple-500":"dexterity"===s?"bg-green-500":"charisma"===s?"bg-pink-500":"bg-yellow-500"),style:{width:"".concat("health"===s||"mana"===s?Math.min(100,t/200*100):Math.min(100,t/20*100),"%")}})}),(0,a.jsxs)("div",{className:"flex justify-between text-xs mt-1",children:[(0,a.jsx)("span",{children:t}),(0,a.jsx)("span",{children:"health"===s||"mana"===s?"200":"20"})]})]})]},s)})})]}),(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"bg-gray-800 rounded-xl p-6 shadow-lg",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-6 text-green-400",children:"Kỹ năng"}),o.skills&&o.skills.length>0?(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:o.skills.map(e=>(0,a.jsx)("span",{className:"bg-gray-700 px-3 py-1 rounded-full text-sm",children:e},e))}):(0,a.jsx)("p",{className:"text-gray-400",children:"Nh\xe2n vật chưa c\xf3 kỹ năng n\xe0o"})]}),(0,a.jsxs)("div",{className:"bg-gray-800 rounded-xl p-6 shadow-lg",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-6 text-purple-400",children:"Khả năng đặc biệt"}),o.specialAbilities&&o.specialAbilities.length>0?(0,a.jsx)("div",{className:"space-y-4",children:o.specialAbilities.map((e,s)=>(0,a.jsxs)("div",{className:"bg-gray-700 p-4 rounded-lg",children:[(0,a.jsx)("h3",{className:"font-bold text-lg mb-1",children:e.name}),(0,a.jsx)("p",{className:"text-gray-300 text-sm mb-2",children:e.description}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-x-4 gap-y-1 text-xs text-gray-400",children:[e.cooldown&&(0,a.jsxs)("span",{children:["Hồi chi\xeau: ",e.cooldown," lượt"]}),e.cost&&(0,a.jsxs)("span",{children:["Chi ph\xed: ",e.cost.amount," ",e.cost.type]})]})]},s))}):(0,a.jsx)("p",{className:"text-gray-400",children:"Nh\xe2n vật chưa c\xf3 khả năng đặc biệt n\xe0o"})]})]}),(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"bg-gray-800 rounded-xl p-6 shadow-lg",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-6 text-yellow-400",children:"H\xe0nh trang"}),o.inventory&&(0,a.jsxs)(a.Fragment,{children:[o.inventory.currency&&Object.keys(o.inventory.currency).length>0&&(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("h3",{className:"text-gray-400 text-sm mb-2",children:"Tiền tệ"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-3",children:Object.entries(o.inventory.currency).map(e=>{let[s,t]=e;return(0,a.jsxs)("div",{className:"bg-gray-700 px-3 py-1 rounded-lg flex items-center",children:[(0,a.jsx)("span",{className:"text-yellow-300 mr-1",children:"gold"===s?"\uD83D\uDCB0":"credits"===s?"\uD83D\uDCB3":"yuan"===s?"\uD83D\uDCB4":"spirit_stones"===s?"\uD83D\uDC8E":"\uD83E\uDE99"}),(0,a.jsxs)("span",{children:[t," ","gold"===s?"V\xe0ng":"credits"===s?"Credits":"yuan"===s?"Yuan":"spirit_stones"===s?"Linh thạch":s.replace("_"," ")]})]},s)})})]}),o.inventory.items&&o.inventory.items.length>0?(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-gray-400 text-sm mb-2",children:"Vật phẩm"}),(0,a.jsx)("div",{className:"space-y-2",children:o.inventory.items.map(e=>(0,a.jsxs)("div",{className:"bg-gray-700 p-3 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsxs)("h4",{className:"font-medium",children:[e.name,e.quantity>1&&(0,a.jsxs)("span",{className:"text-gray-400 text-sm ml-1",children:["x",e.quantity]})]}),e.rarity&&(0,a.jsx)("span",{className:"text-xs px-2 py-0.5 rounded ".concat("common"===e.rarity?"bg-gray-600 text-gray-300":"uncommon"===e.rarity?"bg-green-800 text-green-300":"rare"===e.rarity?"bg-blue-800 text-blue-300":"epic"===e.rarity?"bg-purple-800 text-purple-300":"legendary"===e.rarity?"bg-orange-800 text-orange-300":"bg-gray-600 text-gray-300"),children:"common"===e.rarity?"Thường":"uncommon"===e.rarity?"Kh\xf4ng phổ biến":"rare"===e.rarity?"Hiếm":"epic"===e.rarity?"Sử thi":"legendary"===e.rarity?"Huyền thoại":e.rarity})]}),e.description&&(0,a.jsx)("p",{className:"text-gray-400 text-sm mt-1",children:e.description}),(0,a.jsxs)("div",{className:"flex justify-between text-xs text-gray-400 mt-1",children:[e.type&&(0,a.jsx)("span",{children:e.type}),e.value&&(0,a.jsxs)("span",{children:[e.value," v\xe0ng"]})]})]},e.id))})]}):(0,a.jsx)("p",{className:"text-gray-400",children:"H\xe0nh trang trống"})]})]}),(0,a.jsxs)("div",{className:"bg-gray-800 rounded-xl p-6 shadow-lg",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-6 text-pink-400",children:"Tiểu sử"}),o.backstory?(0,a.jsx)("p",{className:"text-gray-300 whitespace-pre-line",children:o.backstory}):(0,a.jsx)("p",{className:"text-gray-400",children:"Chưa c\xf3 th\xf4ng tin về tiểu sử"})]})]})]})]})}):(0,a.jsx)("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold mb-4",children:"Kh\xf4ng t\xecm thấy nh\xe2n vật"}),(0,a.jsx)(c(),{href:"/game",className:"mt-4 px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-md transition-colors inline-block",children:"Quay lại trang chủ"})]})})}},8047:(e,s,t)=>{Promise.resolve().then(t.bind(t,1418))}},e=>{var s=s=>e(e.s=s);e.O(0,[493,794,441,684,358],()=>s(8047)),_N_E=e.O()}]);
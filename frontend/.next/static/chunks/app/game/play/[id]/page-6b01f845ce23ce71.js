(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[50],{3556:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>d});var t=r(5155),l=r(2115),a=r(5695),n=r(3464),i=r(6874),c=r.n(i);function d(e){var s,r,i,d,o,h,m,x,u,g,v,b,j,p,y,N,f,w,k,C,S,L;let{params:z}=e,q=(0,a.useRouter)(),{id:M}=(0,l.use)(z),[R,H]=(0,l.useState)(null),[V,A]=(0,l.useState)(!0),[B,T]=(0,l.useState)(""),[E,K]=(0,l.useState)(!1),[I,_]=(0,l.useState)(null),[Q,O]=(0,l.useState)(!1),[D,Y]=(0,l.useState)(!1),[W,F]=(0,l.useState)(!1),[P,G]=(0,l.useState)(!0),[J,U]=(0,l.useState)(!1),[X,Z]=(0,l.useState)(!1),$=(0,l.useRef)(null),ee=(0,l.useRef)(null);(0,l.useEffect)(()=>{let e=async()=>{try{A(!0);let e=await n.A.get("/api/game/sessions/".concat(M));H(e.data),A(!1)}catch(e){console.error("Error fetching game session:",e),T("Kh\xf4ng thể tải phi\xean game. Vui l\xf2ng thử lại sau."),A(!1)}};M&&e()},[M]),(0,l.useEffect)(()=>{var e;if(!R||!P||J)return;let s=(null==(e=R.currentStoryNode)?void 0:e.content)||"",r=$.current;if(!r)return;r.innerHTML="";let t=0,l=setInterval(()=>{t<s.length?(r.innerHTML+=s.charAt(t),t++,r.scrollTop=r.scrollHeight):(clearInterval(l),U(!0),Z(!0))},30);return()=>clearInterval(l)},[R,P,J]),(0,l.useEffect)(()=>{if(X&&ee.current){let e=ee.current;setTimeout(()=>{e.scrollIntoView({behavior:"smooth"})},300)}},[X]);let es=async e=>{try{K(!0),_(e);let s=await n.A.post("/api/game/sessions/".concat(M,"/choices/").concat(e));H(s.data),U(!1),Z(!1),K(!1),_(null),window.scrollTo({top:0,behavior:"smooth"})}catch(e){console.error("Error making choice:",e),T("Kh\xf4ng thể thực hiện lựa chọn. Vui l\xf2ng thử lại."),K(!1),_(null)}},er=async()=>{try{await n.A.put("/api/game/sessions/".concat(M,"/end")),q.push("/game")}catch(e){console.error("Error ending game:",e),T("Kh\xf4ng thể kết th\xfac phi\xean game. Vui l\xf2ng thử lại.")}},et=async()=>{try{await n.A.put("/api/game/sessions/".concat(M,"/save")),alert("Đ\xe3 lưu phi\xean game th\xe0nh c\xf4ng!")}catch(e){console.error("Error saving game:",e),T("Kh\xf4ng thể lưu phi\xean game. Vui l\xf2ng thử lại.")}},el=e=>{if(!R||!R.character)return!1;let s=R.character;if(e.requiredAttribute&&e.requiredAttributeValue){let r=s.attributes[e.requiredAttribute];if(!r||r<e.requiredAttributeValue)return!1}if(e.requiredSkill&&!s.skills.includes(e.requiredSkill))return!1;if(e.requiredItem){var r,t;if(!(null==(t=s.inventory)||null==(r=t.items)?void 0:r.some(s=>s.name===e.requiredItem||s.id===e.requiredItem)))return!1}return!0};return V?(0,t.jsx)("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-pulse text-2xl font-bold mb-4",children:"Đang tải phi\xean game..."}),(0,t.jsx)("div",{className:"w-12 h-12 border-t-4 border-blue-500 border-solid rounded-full animate-spin mx-auto"})]})}):B?(0,t.jsx)("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-red-500 mb-4",children:"Lỗi"}),(0,t.jsx)("p",{children:B}),(0,t.jsx)(c(),{href:"/game",className:"mt-4 px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-md transition-colors inline-block",children:"Quay lại trang chủ"})]})}):R?(0,t.jsxs)("div",{className:"min-h-screen bg-gray-900 text-white flex flex-col",children:[(0,t.jsx)("div",{className:"bg-gray-800 border-b border-gray-700 p-4",children:(0,t.jsxs)("div",{className:"container mx-auto flex justify-between items-center",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("button",{onClick:()=>q.push("/game"),className:"mr-4 text-gray-400 hover:text-white transition-colors",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-xl font-bold",children:(null==(s=R.character)?void 0:s.name)||"Nh\xe2n vật kh\xf4ng x\xe1c định"}),(0,t.jsxs)("div",{className:"flex text-sm text-gray-400",children:[(0,t.jsx)("span",{children:(null==(r=R.character)?void 0:r.characterClass)||""}),(null==(i=R.character)?void 0:i.level)&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"mx-1",children:"•"}),(0,t.jsxs)("span",{children:["Cấp ",R.character.level]})]})]})]})]}),(0,t.jsxs)("div",{className:"flex space-x-2",children:[(0,t.jsx)("button",{onClick:()=>O(!Q),className:"p-2 rounded-md transition-colors ".concat(Q?"bg-blue-600":"bg-gray-700 hover:bg-gray-600"),title:"Th\xf4ng tin nh\xe2n vật",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})}),(0,t.jsx)("button",{onClick:()=>Y(!D),className:"p-2 rounded-md transition-colors ".concat(D?"bg-blue-600":"bg-gray-700 hover:bg-gray-600"),title:"H\xe0nh trang",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M10 2a4 4 0 00-4 4v1H5a1 1 0 00-.994.89l-1 9A1 1 0 004 18h12a1 1 0 00.994-1.11l-1-9A1 1 0 0015 7h-1V6a4 4 0 00-4-4zm2 5V6a2 2 0 10-4 0v1h4zm-6 3a1 1 0 112 0 1 1 0 01-2 0zm7-1a1 1 0 100 2 1 1 0 000-2z",clipRule:"evenodd"})})}),(0,t.jsx)("button",{onClick:()=>F(!W),className:"p-2 rounded-md transition-colors ".concat(W?"bg-blue-600":"bg-gray-700 hover:bg-gray-600"),title:"Nhật k\xfd nhiệm vụ",children:(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[(0,t.jsx)("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),(0,t.jsx)("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z",clipRule:"evenodd"})]})}),(0,t.jsx)("button",{onClick:et,className:"p-2 bg-gray-700 hover:bg-gray-600 rounded-md transition-colors",title:"Lưu game",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,t.jsx)("path",{d:"M7.707 10.293a1 1 0 10-1.414 1.414l3 3a1 1 0 001.414 0l3-3a1 1 0 00-1.414-1.414L11 11.586V6h5a2 2 0 012 2v7a2 2 0 01-2 2H4a2 2 0 01-2-2V8a2 2 0 012-2h5v5.586l-1.293-1.293zM9 4a1 1 0 012 0v2H9V4z"})})}),(0,t.jsx)("button",{onClick:er,className:"p-2 bg-red-700 hover:bg-red-600 rounded-md transition-colors",title:"Kết th\xfac phi\xean game",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8 7a1 1 0 00-1 1v4a1 1 0 001 1h4a1 1 0 001-1V8a1 1 0 00-1-1H8z",clipRule:"evenodd"})})})]})]})}),(0,t.jsxs)("div",{className:"flex-1 flex",children:[(0,t.jsxs)("div",{className:"flex-1 overflow-y-auto",children:[(null==(d=R.currentStoryNode)?void 0:d.location)&&(0,t.jsx)("div",{className:"bg-gray-800 p-4 border-b border-gray-700",children:(0,t.jsx)("div",{className:"container mx-auto",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),(0,t.jsx)("span",{className:"font-medium",children:R.currentStoryNode.location})]})})}),(null==(o=R.currentStoryNode)?void 0:o.sceneDescription)&&(0,t.jsx)("div",{className:"bg-gradient-to-b ".concat({fantasy:"from-blue-900/70 to-purple-900/70",modern:"from-gray-900/70 to-blue-900/70",scifi:"from-cyan-900/70 to-blue-900/70",xianxia:"from-yellow-900/70 to-orange-900/70",wuxia:"from-red-900/70 to-pink-900/70",horror:"from-gray-900/70 to-red-900/70",cyberpunk:"from-purple-900/70 to-pink-900/70",steampunk:"from-amber-900/70 to-yellow-900/70",postapocalyptic:"from-green-900/70 to-yellow-900/70",historical:"from-amber-900/70 to-yellow-900/70"}[(null==(h=R.character)?void 0:h.primaryGenre)||""]||"from-gray-900/70 to-blue-900/70"," p-6 border-b border-gray-700"),children:(0,t.jsx)("div",{className:"container mx-auto",children:(0,t.jsx)("p",{className:"italic text-gray-300",children:R.currentStoryNode.sceneDescription})})}),(0,t.jsxs)("div",{className:"container mx-auto p-6",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("div",{ref:$,className:"prose prose-invert max-w-none",children:!P&&(null==(m=R.currentStoryNode)?void 0:m.content)}),P&&!J&&(0,t.jsx)("button",{onClick:()=>{G(!1),U(!0),Z(!0)},className:"mt-4 text-blue-400 hover:text-blue-300 transition-colors text-sm",children:"Bấm để hiển thị to\xe0n bộ"})]}),(null==(x=R.currentStoryNode)?void 0:x.isCombatScene)&&(null==(u=R.currentStoryNode)?void 0:u.combatData)&&(0,t.jsxs)("div",{className:"mb-8 bg-red-900/30 border border-red-800/50 rounded-lg p-4",children:[(0,t.jsx)("h3",{className:"text-xl font-bold mb-4 text-red-400",children:"Trận chiến!"}),(0,t.jsx)("div",{className:"space-y-4",children:R.currentStoryNode.combatData.enemies.map((e,s)=>(0,t.jsxs)("div",{className:"flex justify-between items-center bg-gray-800/50 p-3 rounded-lg",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-bold",children:e.name}),(0,t.jsxs)("div",{className:"text-sm text-gray-400",children:["Cấp ",e.level]})]}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsxs)("div",{className:"mr-3",children:[(0,t.jsx)("div",{className:"text-xs text-gray-400",children:"HP"}),(0,t.jsx)("div",{className:"w-32 h-2 bg-gray-700 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bg-red-500",style:{width:"".concat(e.health/100*100,"%")}})})]}),(0,t.jsxs)("div",{className:"text-lg font-bold",children:[e.health,"/100"]})]})]},s))})]}),X&&(null==(g=R.currentStoryNode)?void 0:g.choices)&&R.currentStoryNode.choices.length>0&&(0,t.jsxs)("div",{ref:ee,className:"space-y-4 mt-8",children:[(0,t.jsx)("h3",{className:"text-xl font-bold mb-4",children:"Lựa chọn của bạn"}),R.currentStoryNode.choices.map(e=>{let s=el(e);return(0,t.jsx)("button",{onClick:()=>s&&es(e.id),disabled:!s||E,className:"w-full text-left p-4 rounded-lg transition-all ".concat(I===e.id?"bg-blue-600 text-white":s?"bg-gray-800 hover:bg-gray-700 text-white":"bg-gray-800/50 text-gray-500 cursor-not-allowed"),children:(0,t.jsxs)("div",{className:"flex items-start",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{children:e.text}),!s&&(0,t.jsxs)("div",{className:"mt-2 text-sm text-red-400",children:[e.requiredAttribute&&e.requiredAttributeValue&&(0,t.jsxs)("p",{children:["Y\xeau cầu: ",e.requiredAttribute," ≥"," ",e.requiredAttributeValue]}),e.requiredSkill&&(0,t.jsxs)("p",{children:["Y\xeau cầu kỹ năng: ",e.requiredSkill]}),e.requiredItem&&(0,t.jsxs)("p",{children:["Y\xeau cầu vật phẩm: ",e.requiredItem]})]})]}),E&&I===e.id&&(0,t.jsxs)("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})]})},e.id)})]}),(null==(v=R.currentStoryNode)?void 0:v.isEnding)&&(0,t.jsxs)("div",{className:"mt-12 text-center",children:[(0,t.jsx)("h3",{className:"text-2xl font-bold mb-4",children:"Kết th\xfac"}),(0,t.jsx)("p",{className:"text-gray-400 mb-6",children:"Cuộc phi\xeau lưu của bạn đ\xe3 kết th\xfac."}),(0,t.jsx)("button",{onClick:er,className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 rounded-md transition-colors",children:"Trở về trang chủ"})]})]})]}),Q&&(0,t.jsxs)("div",{className:"w-80 bg-gray-800 border-l border-gray-700 overflow-y-auto",children:[(0,t.jsx)("div",{className:"p-4 border-b border-gray-700",children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("h3",{className:"text-lg font-bold",children:"Th\xf4ng tin nh\xe2n vật"}),(0,t.jsx)("button",{onClick:()=>O(!1),className:"text-gray-400 hover:text-white transition-colors",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})}),(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center mb-2",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-full bg-gray-700 flex items-center justify-center mr-3",children:(0,t.jsx)("span",{className:"text-xl font-bold",children:null==(b=R.character)?void 0:b.name.charAt(0)})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-bold",children:null==(j=R.character)?void 0:j.name}),(0,t.jsxs)("div",{className:"text-sm text-gray-400",children:[null==(p=R.character)?void 0:p.characterClass," • Cấp"," ",null==(y=R.character)?void 0:y.level]})]})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Kinh nghiệm"}),(0,t.jsx)("span",{children:(null==(N=R.character)?void 0:N.experience)||0})]}),(0,t.jsx)("div",{className:"h-1 bg-gray-700 rounded-full overflow-hidden mb-4",children:(0,t.jsx)("div",{className:"h-full bg-blue-500",style:{width:"".concat(((null==(f=R.character)?void 0:f.experience)||0)%100,"%")}})})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h4",{className:"font-bold mb-3 text-blue-400",children:"Thuộc t\xednh"}),(0,t.jsx)("div",{className:"space-y-2",children:(null==(w=R.character)?void 0:w.attributes)&&Object.entries(R.character.attributes).map(e=>{let[s,r]=e;return(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-400 capitalize",children:"strength"===s?"Sức mạnh":"intelligence"===s?"Tr\xed tuệ":"dexterity"===s?"Nhanh nhẹn":"charisma"===s?"Quyến rũ":"health"===s?"Sinh lực":"mana"===s?"Năng lượng":s}),(0,t.jsx)("span",{children:r})]},s)})})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h4",{className:"font-bold mb-3 text-green-400",children:"Kỹ năng"}),(null==(k=R.character)?void 0:k.skills)&&R.character.skills.length>0?(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:R.character.skills.map(e=>(0,t.jsx)("span",{className:"bg-gray-700 px-2 py-1 rounded-full text-xs",children:e},e))}):(0,t.jsx)("p",{className:"text-gray-400 text-sm",children:"Chưa c\xf3 kỹ năng n\xe0o"})]})]})]}),D&&(0,t.jsxs)("div",{className:"w-80 bg-gray-800 border-l border-gray-700 overflow-y-auto",children:[(0,t.jsx)("div",{className:"p-4 border-b border-gray-700",children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("h3",{className:"text-lg font-bold",children:"H\xe0nh trang"}),(0,t.jsx)("button",{onClick:()=>Y(!1),className:"text-gray-400 hover:text-white transition-colors",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})}),(0,t.jsx)("div",{className:"p-4",children:(null==(C=R.character)?void 0:C.inventory)?(0,t.jsxs)(t.Fragment,{children:[R.character.inventory.currency&&Object.keys(R.character.inventory.currency).length>0&&(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h4",{className:"font-bold mb-3 text-yellow-400",children:"Tiền tệ"}),(0,t.jsx)("div",{className:"space-y-2",children:Object.entries(R.character.inventory.currency).map(e=>{let[s,r]=e;return(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("span",{className:"text-yellow-300 mr-2",children:"gold"===s?"\uD83D\uDCB0":"credits"===s?"\uD83D\uDCB3":"yuan"===s?"\uD83D\uDCB4":"spirit_stones"===s?"\uD83D\uDC8E":"\uD83E\uDE99"}),(0,t.jsxs)("span",{children:[r," ","gold"===s?"V\xe0ng":"credits"===s?"Credits":"yuan"===s?"Yuan":"spirit_stones"===s?"Linh thạch":s.replace("_"," ")]})]},s)})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-bold mb-3 text-blue-400",children:"Vật phẩm"}),R.character.inventory.items&&R.character.inventory.items.length>0?(0,t.jsx)("div",{className:"space-y-3",children:R.character.inventory.items.map(e=>(0,t.jsxs)("div",{className:"bg-gray-700 p-3 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsxs)("h5",{className:"font-medium",children:[e.name,e.quantity>1&&(0,t.jsxs)("span",{className:"text-gray-400 text-sm ml-1",children:["x",e.quantity]})]}),e.rarity&&(0,t.jsx)("span",{className:"text-xs px-1.5 py-0.5 rounded ".concat("common"===e.rarity?"bg-gray-600 text-gray-300":"uncommon"===e.rarity?"bg-green-800 text-green-300":"rare"===e.rarity?"bg-blue-800 text-blue-300":"epic"===e.rarity?"bg-purple-800 text-purple-300":"legendary"===e.rarity?"bg-orange-800 text-orange-300":"bg-gray-600 text-gray-300"),children:"common"===e.rarity?"Thường":"uncommon"===e.rarity?"Kh\xf4ng phổ biến":"rare"===e.rarity?"Hiếm":"epic"===e.rarity?"Sử thi":"legendary"===e.rarity?"Huyền thoại":e.rarity})]}),e.description&&(0,t.jsx)("p",{className:"text-gray-400 text-sm mt-1",children:e.description}),(0,t.jsxs)("div",{className:"flex justify-between text-xs text-gray-400 mt-1",children:[e.type&&(0,t.jsx)("span",{children:e.type}),e.value&&(0,t.jsxs)("span",{children:[e.value," v\xe0ng"]})]})]},e.id))}):(0,t.jsx)("p",{className:"text-gray-400 text-sm",children:"H\xe0nh trang trống"})]})]}):(0,t.jsx)("p",{className:"text-gray-400",children:"Kh\xf4ng c\xf3 th\xf4ng tin h\xe0nh trang"})})]}),W&&(0,t.jsxs)("div",{className:"w-80 bg-gray-800 border-l border-gray-700 overflow-y-auto",children:[(0,t.jsx)("div",{className:"p-4 border-b border-gray-700",children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("h3",{className:"text-lg font-bold",children:"Nhật k\xfd nhiệm vụ"}),(0,t.jsx)("button",{onClick:()=>F(!1),className:"text-gray-400 hover:text-white transition-colors",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})}),(0,t.jsxs)("div",{className:"p-4",children:[(null==(S=R.gameState)?void 0:S.questLog)&&R.gameState.questLog.length>0?(0,t.jsx)("div",{className:"space-y-4",children:R.gameState.questLog.map((e,s)=>(0,t.jsx)("div",{className:"bg-gray-700 p-3 rounded-lg",children:(0,t.jsx)("p",{children:e})},s))}):(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 mx-auto text-gray-600 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),(0,t.jsx)("p",{className:"text-gray-400",children:"Chưa c\xf3 nhiệm vụ n\xe0o"})]}),(0,t.jsxs)("div",{className:"mt-6",children:[(0,t.jsx)("h4",{className:"font-bold mb-3 text-green-400",children:"Nhiệm vụ đ\xe3 ho\xe0n th\xe0nh"}),(null==(L=R.gameState)?void 0:L.completedQuests)&&R.gameState.completedQuests.length>0?(0,t.jsx)("div",{className:"space-y-2",children:R.gameState.completedQuests.map((e,s)=>(0,t.jsxs)("div",{className:"bg-gray-700 p-2 rounded-lg flex items-center",children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-500 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),(0,t.jsx)("p",{className:"text-sm",children:e})]},s))}):(0,t.jsx)("p",{className:"text-gray-400 text-sm",children:"Chưa c\xf3 nhiệm vụ n\xe0o được ho\xe0n th\xe0nh"})]})]})]})]})]}):(0,t.jsx)("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-2xl font-bold mb-4",children:"Kh\xf4ng t\xecm thấy phi\xean game"}),(0,t.jsx)(c(),{href:"/game",className:"mt-4 px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-md transition-colors inline-block",children:"Quay lại trang chủ"})]})})}},9549:(e,s,r)=>{Promise.resolve().then(r.bind(r,3556))}},e=>{var s=s=>e(e.s=s);e.O(0,[493,794,441,684,358],()=>s(9549)),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[925],{2358:(e,t,a)=>{Promise.resolve().then(a.bind(a,4595))},4595:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});var s=a(5155),i=a(2115),r=a(5695),n=a(3464),l=a(6874),c=a.n(l);function o(){let e=(0,r.useRouter)(),[t,a]=(0,i.useState)([]),[l,o]=(0,i.useState)([]),[d,h]=(0,i.useState)(!0),[m,x]=(0,i.useState)("");return((0,i.useEffect)(()=>{(async()=>{try{h(!0);let e=await n.A.get("/api/game/sessions");a(e.data);let t=await n.A.get("/api/game/characters");o(t.data),h(!1)}catch(e){console.error("Error fetching data:",e),x("Failed to load game data. Please try again later."),h(!1)}})()},[]),d)?(0,s.jsx)("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-pulse text-4xl font-bold mb-4",children:"Đang tải thế giới..."}),(0,s.jsx)("div",{className:"w-16 h-16 border-t-4 border-blue-500 border-solid rounded-full animate-spin mx-auto"})]})}):m?(0,s.jsx)("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-red-500 mb-4",children:"Lỗi"}),(0,s.jsx)("p",{children:m}),(0,s.jsx)("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-md transition-colors",children:"Thử lại"})]})}):(0,s.jsxs)("div",{className:"min-h-screen bg-gray-900 text-white",children:[(0,s.jsxs)("div",{className:"relative h-[50vh] flex items-center justify-center overflow-hidden",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent to-gray-900 z-10"}),(0,s.jsx)("div",{className:"absolute inset-0 bg-[url('/images/game-hero.jpg')] bg-cover bg-center"}),(0,s.jsxs)("div",{className:"relative z-20 text-center px-4",children:[(0,s.jsx)("h1",{className:"text-5xl md:text-7xl font-bold mb-4 text-shadow-lg",children:"Thế Giới Phi\xeau Lưu"}),(0,s.jsx)("p",{className:"text-xl md:text-2xl max-w-2xl mx-auto",children:"Bước v\xe0o cuộc h\xe0nh tr\xecnh kỳ diệu, nơi mỗi lựa chọn định h\xecnh số phận của bạn"})]})]}),(0,s.jsxs)("div",{className:"container mx-auto px-4 py-12",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[(0,s.jsxs)("div",{className:"bg-gray-800 rounded-xl p-6 shadow-lg transform transition-all hover:scale-[1.02]",children:[(0,s.jsx)("h2",{className:"text-3xl font-bold mb-6 text-blue-400",children:"Phi\xean Game Đang Hoạt Động"}),t.length>0?(0,s.jsx)("div",{className:"space-y-4",children:t.map(e=>{var t;return(0,s.jsx)("div",{className:"bg-gray-700 rounded-lg p-4 hover:bg-gray-600 transition-colors",children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-xl font-semibold",children:(null==(t=e.character)?void 0:t.name)||"Nh\xe2n vật kh\xf4ng x\xe1c định"}),(0,s.jsxs)("p",{className:"text-gray-300",children:["Bắt đầu:"," ",new Date(e.startedAt).toLocaleString()]})]}),(0,s.jsx)(c(),{href:"/game/play/".concat(e.id),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-md transition-colors",children:"Tiếp tục"})]})},e.id)})}):(0,s.jsxs)("div",{className:"text-center py-8",children:[(0,s.jsx)("p",{className:"text-gray-400 mb-4",children:"Bạn chưa c\xf3 phi\xean game n\xe0o đang hoạt động"}),(0,s.jsx)("p",{className:"text-gray-300",children:"H\xe3y tạo nh\xe2n vật v\xe0 bắt đầu cuộc phi\xeau lưu mới!"})]})]}),(0,s.jsxs)("div",{className:"bg-gray-800 rounded-xl p-6 shadow-lg transform transition-all hover:scale-[1.02]",children:[(0,s.jsx)("h2",{className:"text-3xl font-bold mb-6 text-green-400",children:"Nh\xe2n Vật Của Bạn"}),l.length>0?(0,s.jsx)("div",{className:"space-y-4",children:l.map(t=>(0,s.jsx)("div",{className:"bg-gray-700 rounded-lg p-4 hover:bg-gray-600 transition-colors",children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-xl font-semibold",children:t.name}),(0,s.jsxs)("p",{className:"text-gray-300",children:[t.characterClass," - Cấp ",t.level]}),(0,s.jsx)("p",{className:"text-gray-400",children:t.primaryGenre})]}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)(c(),{href:"/game/characters/".concat(t.id),className:"px-3 py-1 bg-green-600 hover:bg-green-700 rounded-md transition-colors",children:"Chi tiết"}),(0,s.jsx)("button",{onClick:async()=>{try{let a=await n.A.post("/api/game/sessions",{characterId:t.id});e.push("/game/play/".concat(a.data.id))}catch(e){console.error("Error starting game:",e),x("Failed to start game. Please try again.")}},className:"px-3 py-1 bg-purple-600 hover:bg-purple-700 rounded-md transition-colors",children:"Bắt đầu"})]})]})},t.id))}):(0,s.jsxs)("div",{className:"text-center py-8",children:[(0,s.jsx)("p",{className:"text-gray-400 mb-4",children:"Bạn chưa c\xf3 nh\xe2n vật n\xe0o"}),(0,s.jsx)(c(),{href:"/game/characters/create",className:"px-4 py-2 bg-green-600 hover:bg-green-700 rounded-md transition-colors inline-block",children:"Tạo nh\xe2n vật mới"})]}),l.length>0&&(0,s.jsx)("div",{className:"mt-6 text-center",children:(0,s.jsx)(c(),{href:"/game/characters/create",className:"px-4 py-2 bg-green-600 hover:bg-green-700 rounded-md transition-colors inline-block",children:"Tạo nh\xe2n vật mới"})})]})]}),(0,s.jsxs)("div",{className:"mt-16",children:[(0,s.jsx)("h2",{className:"text-3xl font-bold mb-8 text-center",children:"Kh\xe1m Ph\xe1 C\xe1c Thế Giới"}),(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-6",children:[{id:"fantasy",name:"Fantasy",description:"Thế giới với ph\xe9p thuật, hiệp sĩ, rồng v\xe0 sinh vật huyền b\xed",color:"from-blue-600 to-purple-600"},{id:"scifi",name:"Sci-Fi",description:"Thế giới tương lai với c\xf4ng nghệ ti\xean tiến, du h\xe0nh vũ trụ",color:"from-cyan-500 to-blue-500"},{id:"xianxia",name:"Ti\xean Hiệp",description:"Thế giới tu ti\xean, trau dồi linh kh\xed, thăng cấp cảnh giới",color:"from-yellow-400 to-orange-500"},{id:"wuxia",name:"V\xf5 Hiệp",description:"Thế giới v\xf5 thuật, giang hồ, kiếm hiệp",color:"from-red-500 to-pink-500"},{id:"cyberpunk",name:"Cyberpunk",description:"Thế giới tương lai đen tối với c\xf4ng nghệ cao",color:"from-purple-600 to-pink-600"}].map(e=>(0,s.jsxs)("div",{className:"relative group overflow-hidden rounded-xl h-64 shadow-lg",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br ".concat(e.color," opacity-75 group-hover:opacity-90 transition-opacity")}),(0,s.jsxs)("div",{className:"absolute inset-0 flex flex-col justify-end p-6 text-white",children:[(0,s.jsx)("h3",{className:"text-2xl font-bold mb-2",children:e.name}),(0,s.jsx)("p",{className:"text-sm opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:e.description}),(0,s.jsx)(c(),{href:"/game/characters/create?genre=".concat(e.id),className:"mt-4 px-3 py-1 bg-white text-gray-900 rounded-md opacity-0 group-hover:opacity-100 transition-opacity duration-300 text-center text-sm font-medium",children:"Tạo nh\xe2n vật"})]})]},e.id))})]})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[493,794,441,684,358],()=>t(2358)),_N_E=e.O()}]);
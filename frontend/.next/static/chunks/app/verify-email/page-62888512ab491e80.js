(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[839],{6277:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>h});var i=t(5155),n=t(2115),l=t(5695),a=t(6874),r=t.n(a),c=t(3464);function o(){let e=(0,l.useRouter)(),s=(0,l.useSearchParams)(),t=s.get("email"),a=s.get("token"),[o,h]=(0,n.useState)(!1),[d,m]=(0,n.useState)(!1),[x,u]=(0,n.useState)("");(0,n.useEffect)(()=>{a&&(async()=>{try{h(!0),await c.A.post("/api/auth/verify-email",{token:a}),m(!0),h(!1)}catch(t){var e,s;console.error("Verification error:",t),u((null==(s=t.response)||null==(e=s.data)?void 0:e.message)||"X\xe1c minh email thất bại. Vui l\xf2ng thử lại."),h(!1)}})()},[a]);let g=async()=>{if(!t)return void u("Kh\xf4ng c\xf3 địa chỉ email để gửi lại x\xe1c minh");try{h(!0),await c.A.post("/api/auth/resend-verification",{email:t}),e.push("/resend-verification/success")}catch(e){var s,i;console.error("Resend verification error:",e),u((null==(i=e.response)||null==(s=i.data)?void 0:s.message)||"Gửi lại email x\xe1c minh thất bại. Vui l\xf2ng thử lại."),h(!1)}};return a&&o?(0,i.jsx)("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center",children:(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("div",{className:"animate-pulse text-2xl font-bold mb-4",children:"Đang x\xe1c minh email..."}),(0,i.jsx)("div",{className:"w-12 h-12 border-t-4 border-blue-500 border-solid rounded-full animate-spin mx-auto"})]})}):d?(0,i.jsx)("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center p-4",children:(0,i.jsxs)("div",{className:"max-w-md w-full bg-gray-800 rounded-xl shadow-lg p-8 text-center",children:[(0,i.jsx)("div",{className:"w-20 h-20 bg-green-600 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,i.jsx)("h1",{className:"text-3xl font-bold mb-4",children:"Email đ\xe3 được x\xe1c minh!"}),(0,i.jsx)("p",{className:"text-gray-400 mb-8",children:"T\xe0i khoản của bạn đ\xe3 được k\xedch hoạt th\xe0nh c\xf4ng. B\xe2y giờ bạn c\xf3 thể đăng nhập v\xe0 bắt đầu cuộc phi\xeau lưu."}),(0,i.jsx)(r(),{href:"/login",className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors inline-block font-bold",children:"Đăng nhập ngay"})]})}):(0,i.jsx)("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center p-4",children:(0,i.jsxs)("div",{className:"max-w-md w-full bg-gray-800 rounded-xl shadow-lg p-8 text-center",children:[(0,i.jsx)("div",{className:"w-20 h-20 bg-blue-600 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),(0,i.jsx)("h1",{className:"text-3xl font-bold mb-4",children:"X\xe1c minh email của bạn"}),(0,i.jsxs)("p",{className:"text-gray-400 mb-6",children:["Ch\xfang t\xf4i đ\xe3 gửi một email x\xe1c minh đến"," ",(0,i.jsx)("span",{className:"text-white font-medium",children:t||"địa chỉ email của bạn"}),". Vui l\xf2ng kiểm tra hộp thư đến v\xe0 nhấp v\xe0o li\xean kết x\xe1c minh."]}),x&&(0,i.jsx)("div",{className:"mb-6 p-3 bg-red-900/50 text-red-200 rounded-lg",children:x}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsx)("button",{onClick:g,disabled:o,className:"w-full py-3 rounded-lg text-white font-bold transition-colors ".concat(o?"bg-blue-700 cursor-wait":"bg-blue-600 hover:bg-blue-700"),children:o?(0,i.jsxs)("div",{className:"flex items-center justify-center",children:[(0,i.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,i.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,i.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Đang gửi..."]}):"Gửi lại email x\xe1c minh"}),(0,i.jsx)(r(),{href:"/login",className:"block w-full py-3 bg-gray-700 hover:bg-gray-600 rounded-lg transition-colors font-bold",children:"Quay lại đăng nhập"})]}),(0,i.jsx)("div",{className:"mt-8 text-sm text-gray-400",children:(0,i.jsx)("p",{children:"Nếu bạn kh\xf4ng nhận được email, vui l\xf2ng kiểm tra thư mục spam hoặc thử lại với một địa chỉ email kh\xe1c."})})]})})}function h(){return(0,i.jsx)(n.Suspense,{fallback:(0,i.jsx)("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center",children:(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("div",{className:"animate-pulse text-2xl font-bold mb-4",children:"Đang tải..."}),(0,i.jsx)("div",{className:"w-12 h-12 border-t-4 border-blue-500 border-solid rounded-full animate-spin mx-auto"})]})}),children:(0,i.jsx)(o,{})})}},9976:(e,s,t)=>{Promise.resolve().then(t.bind(t,6277))}},e=>{var s=s=>e(e.s=s);e.O(0,[493,794,441,684,358],()=>s(9976)),_N_E=e.O()}]);
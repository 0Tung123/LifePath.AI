(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[454],{445:(e,s,a)=>{Promise.resolve().then(a.bind(a,6616))},6616:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>o});var l=a(5155),r=a(2115),t=a(5695),i=a(6874),n=a.n(i),c=a(3464);function o(){let e=(0,t.useRouter)(),[s,a]=(0,r.useState)({firstName:"",lastName:"",email:"",password:"",confirmPassword:""}),[i,o]=(0,r.useState)(!1),[d,m]=(0,r.useState)(""),[h,u]=(0,r.useState)(!1);(0,r.useEffect)(()=>{(async()=>{try{(await c.A.get("/api/auth/status")).data.isAuthenticated&&(u(!0),e.push("/game"))}catch(e){console.error("Auth check error:",e)}})()},[e]);let x=e=>{let{name:l,value:r}=e.target;a({...s,[l]:r})},g=async a=>{if(a.preventDefault(),s.password!==s.confirmPassword)return void m("Mật khẩu x\xe1c nhận kh\xf4ng khớp");try{o(!0),m(""),await c.A.post("/api/auth/register",{firstName:s.firstName,lastName:s.lastName,email:s.email,password:s.password}),e.push("/verify-email?email="+encodeURIComponent(s.email))}catch(e){var l,r;console.error("Registration error:",e),m((null==(r=e.response)||null==(l=r.data)?void 0:l.message)||"Đăng k\xfd thất bại. Vui l\xf2ng thử lại."),o(!1)}};return h?(0,l.jsx)("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"animate-pulse text-2xl font-bold mb-4",children:"Đang chuyển hướng..."}),(0,l.jsx)("div",{className:"w-12 h-12 border-t-4 border-blue-500 border-solid rounded-full animate-spin mx-auto"})]})}):(0,l.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-purple-900 text-white flex items-center justify-center p-4",children:(0,l.jsxs)("div",{className:"max-w-md w-full",children:[(0,l.jsx)("div",{className:"bg-gray-800 rounded-xl shadow-lg overflow-hidden",children:(0,l.jsxs)("div",{className:"p-8",children:[(0,l.jsxs)("div",{className:"text-center mb-8",children:[(0,l.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Tạo T\xe0i Khoản"}),(0,l.jsx)("p",{className:"text-gray-400",children:"Đăng k\xfd để bắt đầu cuộc phi\xeau lưu của bạn"})]}),d&&(0,l.jsx)("div",{className:"mb-6 p-3 bg-red-900/50 text-red-200 rounded-lg",children:d}),(0,l.jsxs)("form",{onSubmit:g,children:[(0,l.jsxs)("div",{className:"mb-6 grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"firstName",className:"block text-gray-300 mb-2",children:"Họ"}),(0,l.jsx)("input",{type:"text",id:"firstName",name:"firstName",value:s.firstName,onChange:x,className:"w-full bg-gray-700 text-white rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Nhập họ của bạn",required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"lastName",className:"block text-gray-300 mb-2",children:"T\xean"}),(0,l.jsx)("input",{type:"text",id:"lastName",name:"lastName",value:s.lastName,onChange:x,className:"w-full bg-gray-700 text-white rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Nhập t\xean của bạn",required:!0})]})]}),(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("label",{htmlFor:"email",className:"block text-gray-300 mb-2",children:"Email"}),(0,l.jsx)("input",{type:"email",id:"email",name:"email",value:s.email,onChange:x,className:"w-full bg-gray-700 text-white rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Nhập email của bạn",required:!0})]}),(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("label",{htmlFor:"password",className:"block text-gray-300 mb-2",children:"Mật khẩu"}),(0,l.jsx)("input",{type:"password",id:"password",name:"password",value:s.password,onChange:x,className:"w-full bg-gray-700 text-white rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Tạo mật khẩu mới",minLength:6,required:!0})]}),(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("label",{htmlFor:"confirmPassword",className:"block text-gray-300 mb-2",children:"X\xe1c nhận mật khẩu"}),(0,l.jsx)("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:s.confirmPassword,onChange:x,className:"w-full bg-gray-700 text-white rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Nhập lại mật khẩu",minLength:6,required:!0})]}),(0,l.jsx)("button",{type:"submit",disabled:i,className:"w-full py-3 rounded-lg text-white font-bold transition-colors ".concat(i?"bg-purple-700 cursor-wait":"bg-purple-600 hover:bg-purple-700"),children:i?(0,l.jsxs)("div",{className:"flex items-center justify-center",children:[(0,l.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,l.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,l.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Đang đăng k\xfd..."]}):"Đăng k\xfd"})]}),(0,l.jsx)("div",{className:"mt-6 text-center",children:(0,l.jsxs)("p",{className:"text-gray-400",children:["Đ\xe3 c\xf3 t\xe0i khoản?"," ",(0,l.jsx)(n(),{href:"/login",className:"text-purple-400 hover:text-purple-300 transition-colors",children:"Đăng nhập"})]})}),(0,l.jsxs)("div",{className:"mt-8",children:[(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,l.jsx)("div",{className:"w-full border-t border-gray-700"})}),(0,l.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,l.jsx)("span",{className:"px-2 bg-gray-800 text-gray-400",children:"Hoặc đăng k\xfd với"})})]}),(0,l.jsx)("div",{className:"mt-6 grid grid-cols-1 gap-3",children:(0,l.jsxs)("button",{onClick:()=>window.location.href="/api/auth/google",className:"w-full py-3 px-4 rounded-lg border border-gray-700 bg-gray-700 hover:bg-gray-600 transition-colors flex items-center justify-center",children:[(0,l.jsx)("svg",{className:"h-5 w-5 mr-2",viewBox:"0 0 24 24",children:(0,l.jsxs)("g",{transform:"matrix(1, 0, 0, 1, 27.009001, -39.238998)",children:[(0,l.jsx)("path",{fill:"#4285F4",d:"M -3.264 51.509 C -3.264 50.719 -3.334 49.969 -3.454 49.239 L -14.754 49.239 L -14.754 53.749 L -8.284 53.749 C -8.574 55.229 -9.424 56.479 -10.684 57.329 L -10.684 60.329 L -6.824 60.329 C -4.564 58.239 -3.264 55.159 -3.264 51.509 Z"}),(0,l.jsx)("path",{fill:"#34A853",d:"M -14.754 63.239 C -11.514 63.239 -8.804 62.159 -6.824 60.329 L -10.684 57.329 C -11.764 58.049 -13.134 58.489 -14.754 58.489 C -17.884 58.489 -20.534 56.379 -21.484 53.529 L -25.464 53.529 L -25.464 56.619 C -23.494 60.539 -19.444 63.239 -14.754 63.239 Z"}),(0,l.jsx)("path",{fill:"#FBBC05",d:"M -21.484 53.529 C -21.734 52.809 -21.864 52.039 -21.864 51.239 C -21.864 50.439 -21.724 49.669 -21.484 48.949 L -21.484 45.859 L -25.464 45.859 C -26.284 47.479 -26.754 49.299 -26.754 51.239 C -26.754 53.179 -26.284 54.999 -25.464 56.619 L -21.484 53.529 Z"}),(0,l.jsx)("path",{fill:"#EA4335",d:"M -14.754 43.989 C -12.984 43.989 -11.404 44.599 -10.154 45.789 L -6.734 42.369 C -8.804 40.429 -11.514 39.239 -14.754 39.239 C -19.444 39.239 -23.494 41.939 -25.464 45.859 L -21.484 48.949 C -20.534 46.099 -17.884 43.989 -14.754 43.989 Z"})]})}),"Google"]})})]})]})}),(0,l.jsx)("div",{className:"mt-8 text-center",children:(0,l.jsx)(n(),{href:"/",className:"text-gray-400 hover:text-white transition-colors",children:"← Quay lại trang chủ"})})]})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[493,794,441,684,358],()=>s(445)),_N_E=e.O()}]);
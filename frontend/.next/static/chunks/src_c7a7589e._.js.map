{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///D:/my-fullstack-app/frontend/src/utils/api.ts"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst api = axios.create({\r\n  baseURL: process.env.NEXT_PUBLIC_API_URL,\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n});\r\n\r\n// Add a request interceptor to add the auth token to every request\r\napi.interceptors.request.use(\r\n  (config) => {\r\n    // Check if we're in a browser environment\r\n    if (typeof window !== 'undefined') {\r\n      const token = localStorage.getItem('token');\r\n      if (token) {\r\n        config.headers.Authorization = `Bearer ${token}`;\r\n      }\r\n    }\r\n    return config;\r\n  },\r\n  (error) => {\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// Add a response interceptor to handle token expiration\r\napi.interceptors.response.use(\r\n  (response) => {\r\n    return response;\r\n  },\r\n  (error) => {\r\n    // Handle 401 responses (unauthorized)\r\n    if (error.response && error.response.status === 401) {\r\n      // Check if we're in a browser environment\r\n      if (typeof window !== 'undefined') {\r\n        // Clear the token\r\n        localStorage.removeItem('token');\r\n        \r\n        // Redirect to login page if not already there\r\n        if (!window.location.pathname.includes('/auth/login')) {\r\n          window.location.href = '/auth/login';\r\n        }\r\n      }\r\n    }\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nexport default api;\r\n"],"names":[],"mappings":";;;AAGW;AAHX;;AAEA,MAAM,MAAM,wIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IACvB,OAAO;IACP,SAAS;QACP,gBAAgB;IAClB;AACF;AAEA,mEAAmE;AACnE,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAC1B,CAAC;IACC,0CAA0C;IAC1C,wCAAmC;QACjC,MAAM,QAAQ,aAAa,OAAO,CAAC;QACnC,IAAI,OAAO;YACT,OAAO,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO;QAClD;IACF;IACA,OAAO;AACT,GACA,CAAC;IACC,OAAO,QAAQ,MAAM,CAAC;AACxB;AAGF,wDAAwD;AACxD,IAAI,YAAY,CAAC,QAAQ,CAAC,GAAG,CAC3B,CAAC;IACC,OAAO;AACT,GACA,CAAC;IACC,sCAAsC;IACtC,IAAI,MAAM,QAAQ,IAAI,MAAM,QAAQ,CAAC,MAAM,KAAK,KAAK;QACnD,0CAA0C;QAC1C,wCAAmC;YACjC,kBAAkB;YAClB,aAAa,UAAU,CAAC;YAExB,8CAA8C;YAC9C,IAAI,CAAC,OAAO,QAAQ,CAAC,QAAQ,CAAC,QAAQ,CAAC,gBAAgB;gBACrD,OAAO,QAAQ,CAAC,IAAI,GAAG;YACzB;QACF;IACF;IACA,OAAO,QAAQ,MAAM,CAAC;AACxB;uCAGa","debugId":null}},
    {"offset": {"line": 60, "column": 0}, "map": {"version":3,"sources":["file:///D:/my-fullstack-app/frontend/src/app/auth/check-email/page.tsx"],"sourcesContent":["\"use client\";\nimport { useState } from \"react\";\nimport Link from \"next/link\";\nimport api from \"@/utils/api\";\n\nexport default function CheckEmail() {\n  const [email, setEmail] = useState(\"\");\n  const [isResending, setIsResending] = useState(false);\n  const [resendStatus, setResendStatus] = useState<\n    \"idle\" | \"success\" | \"error\"\n  >(\"idle\");\n  const [errorMessage, setErrorMessage] = useState(\"\");\n\n  const handleResendVerification = async () => {\n    if (!email.trim()) {\n      setResendStatus(\"error\");\n      setErrorMessage(\"Please enter your email address\");\n      return;\n    }\n\n    setIsResending(true);\n    setResendStatus(\"idle\");\n    setErrorMessage(\"\");\n\n    try {\n      await api.post(\"/auth/resend-verification\", { email });\n      setResendStatus(\"success\");\n    } catch (err: unknown) {\n      console.error(\"Resend verification error:\", err);\n      setResendStatus(\"error\");\n      if (\n        err &&\n        typeof err === \"object\" &&\n        \"response\" in err &&\n        err.response &&\n        typeof err.response === \"object\" &&\n        \"data\" in err.response &&\n        err.response.data &&\n        typeof err.response.data === \"object\" &&\n        \"message\" in err.response.data\n      ) {\n        setErrorMessage(err.response.data.message as string);\n      } else {\n        setErrorMessage(\n          \"Failed to resend verification email. Please try again later.\"\n        );\n      }\n    } finally {\n      setIsResending(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen flex flex-col justify-center items-center bg-gradient-to-b from-gray-900 to-gray-800 px-4\">\n      <div className=\"w-full max-w-md bg-gray-800 border border-gray-700 rounded-xl shadow-xl p-8 text-center\">\n        <div className=\"inline-flex items-center justify-center w-16 h-16 rounded-full bg-blue-900/30 mb-6\">\n          <svg\n            className=\"w-8 h-8 text-blue-400\"\n            fill=\"none\"\n            stroke=\"currentColor\"\n            viewBox=\"0 0 24 24\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n          >\n            <path\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              strokeWidth=\"2\"\n              d=\"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\"\n            ></path>\n          </svg>\n        </div>\n\n        <h2 className=\"text-2xl font-bold text-white mb-2\">Check Your Email</h2>\n        <p className=\"text-gray-400 mb-6\">\n          We&apos;ve sent a verification link to your email address. Please\n          check your inbox and click the link to verify your account.\n        </p>\n\n        <p className=\"text-sm text-gray-500 mb-8\">\n          If you don&apos;t see the email, check other places it might be, like\n          your spam, junk, social, or other folders.\n        </p>\n\n        <div className=\"bg-gray-700 rounded-lg p-6 mb-6\">\n          <h3 className=\"text-lg font-medium text-white mb-4\">\n            Didn&apos;t receive the email?\n          </h3>\n\n          {resendStatus === \"success\" && (\n            <div className=\"mb-4 p-3 bg-green-900/50 border border-green-500 rounded-md text-green-200 text-sm\">\n              Verification email resent successfully. Please check your inbox.\n            </div>\n          )}\n\n          {resendStatus === \"error\" && (\n            <div className=\"mb-4 p-3 bg-red-900/50 border border-red-500 rounded-md text-red-200 text-sm\">\n              {errorMessage}\n            </div>\n          )}\n\n          <div className=\"flex items-center space-x-2\">\n            <input\n              type=\"email\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n              placeholder=\"Enter your email\"\n              className=\"flex-1 px-4 py-2 bg-gray-600 border border-gray-500 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 rounded-lg text-white\"\n            />\n            <button\n              onClick={handleResendVerification}\n              disabled={isResending}\n              className=\"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg text-white disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center\"\n            >\n              {isResending ? (\n                <svg\n                  className=\"animate-spin h-5 w-5\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  fill=\"none\"\n                  viewBox=\"0 0 24 24\"\n                >\n                  <circle\n                    className=\"opacity-25\"\n                    cx=\"12\"\n                    cy=\"12\"\n                    r=\"10\"\n                    stroke=\"currentColor\"\n                    strokeWidth=\"4\"\n                  ></circle>\n                  <path\n                    className=\"opacity-75\"\n                    fill=\"currentColor\"\n                    d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n                  ></path>\n                </svg>\n              ) : (\n                \"Resend\"\n              )}\n            </button>\n          </div>\n        </div>\n\n        <Link\n          href=\"/auth/login\"\n          className=\"text-blue-400 hover:text-blue-300 font-medium flex items-center justify-center\"\n        >\n          <svg\n            className=\"w-4 h-4 mr-2\"\n            fill=\"none\"\n            stroke=\"currentColor\"\n            viewBox=\"0 0 24 24\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n          >\n            <path\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              strokeWidth=\"2\"\n              d=\"M10 19l-7-7m0 0l7-7m-7 7h18\"\n            ></path>\n          </svg>\n          Back to Sign In\n        </Link>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}